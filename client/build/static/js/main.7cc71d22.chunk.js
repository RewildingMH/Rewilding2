(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(29),r=n.n(s),i=n(5),o=n.p+"static/media/tiger.febbf3ac.png",l=n(1),d=function(){return Object(l.jsx)("div",{className:"containerMain",style:{backgroundImage:"url(".concat(o,")")},children:Object(l.jsxs)("div",{className:"sloganBanner",children:[Object(l.jsx)("h1",{className:"mainTitle",children:"R  E  W  I  L  D  I  N  G"}),Object(l.jsx)("h2",{children:"Be part of the change"})]})})},u=n(9),j=n(3),p=n.n(j),m=n(7),b=n(12),h=n.n(b),O="https://rewilding.herokuapp.com/api",x=n(6),g=n.n(x),f={newArticle:function(e,t,n){return console.log(e),function(){var c=Object(m.a)(p.a.mark((function c(a,s){var r,i;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,(r=new FormData).append("title",e.title),r.append("descripcion",e.descripcion),r.append("articleCategory",e.articleCategory),r.append("file",t.result),c.next=8,h.a.post("".concat(O,"/blog"),r,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/formdata"}});case 8:if((i=c.sent).data.success){c.next=11;break}return c.abrupt("return",i.data);case 11:a({type:"ADD_ARTICLE",payload:i.data.response}),console.log(i),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),g.a.fire(c.t0);case 18:case"end":return c.stop()}}),c,null,[[0,15]])})));return function(e,t){return c.apply(this,arguments)}}()},getArticles:function(){try{return function(){var e=Object(m.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/blog"));case 2:c=e.sent,t({type:"GET_ARTICLES",payload:c.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(e){g.a.fire(e)}},editArticle:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.put("".concat(O,"/blog"),{article:e});case 3:a=t.sent,n({type:"UPDATE_ARTICLE",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},deleteArticle:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.put("".concat(O,"/blog/delete"),{id:e});case 2:a=t.sent,n({type:"DELETE_ARTICLE",payload:a.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},commentArticle:function(e){var t=e.comment,n=e.token,c=e.artId;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(O,"/article/comment"),{comment:t,artId:c},{headers:{Authorization:"Bearer ".concat(n)}});case 3:r=e.sent,a({type:"COMMENT_ARTICLE",payload:r.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},deleteComment:function(e){var t=e.artId,n=e.token,c=e.commentId;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("".concat(O,"/article/comment/").concat(t,"/").concat(c),{headers:{Authorization:"Bearer ".concat(n)}});case 3:r=e.sent,a({type:"DELETE_COMMENT",payload:r.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},editComment:function(e){var t=e.commentId,n=e.artId,c=e.editComment,a=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(s,r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat(O,"/article/comment"),{artId:n,commentId:t,editComment:c},{headers:{Authorization:"Bearer ".concat(a)}});case 3:i=e.sent,s({type:"EDIT_COMMENT",payload:i.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},addVisit:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/articles/visits"),{artId:e});case 3:a=t.sent,n({type:"ADD_BLOG",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},v=n(8),N={sendAddVisit:f.addVisit},y=Object(u.b)(null,N)((function(e){var t=e.lastArticle,n=t.articleCategory,c=(t.articleLikes,t.author),a=(t.comments,t.createdAt),s=(t.descripcion,t.picture),r=t.title,i=(t.updatedAt,t.visits,t._id);return Object(l.jsx)(v.b,{onClick:function(t){e.sendAddVisit(t.target.id)},to:"/article/".concat(i),id:i,className:"lastArticlesCard text-decoration-none",style:{backgroundImage:"url(".concat(s,")")},children:Object(l.jsxs)("div",{style:{width:"100%"},children:[Object(l.jsxs)("p",{className:"articleDate",children:[a.slice(0,10)," | ",n]}),Object(l.jsx)("h5",{className:"lastArticleTitle",children:r.slice(0,50)+"..."}),Object(l.jsx)("div",{className:"lastArticlesInfo",children:Object(l.jsxs)("p",{className:"lastArticleAuthor",children:[Object(l.jsx)("span",{children:"By:"})," "+c[0].name]})})]})})})),k={getPetitions:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(O,"/petitions"));case 3:c=e.sent,t({type:"ALL_PETITIONS",payload:c.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},addVisit:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/petitions/visits"),{petId:e});case 3:a=t.sent,n({type:"ADD_PETITIONS",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},signPetition:function(e){try{return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("".concat(O,"/signPetition"),{userSign:e},{headers:{Authorization:"Bearer ".concat(e.token)}});case 2:a=t.sent,n({type:"UPDATE_PETITION",payload:a.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}catch(t){g.a.fire(t)}},addPetition:function(e,t){try{var n=e.limitDate,c=e.description,a=e.title,s=e.destination,r=e.token,i=e.goal,o=new FormData;return o.append("title",a),o.append("limitDate",n),o.append("description",c),o.append("destination",s),o.append("goal",i),o.append("petitionPicture",t.result.name),o.append("file",t.result),function(){var e=Object(m.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/petitions"),o,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/formdata"}});case 2:c=e.sent,t({type:"SEND_PETITION",payload:c.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(l){g.a.fire(l)}}},P=n(22),C=n(112),I=function(e){var t=e.lastPetition,n=t.author,c=(t.createdAt,t.desc,t.destination,t.goal),a=(t.limitDate,t.picture),s=(t.reasons,t.signatures),r=t.title;t.updatedAt,t.visits,t.votes;return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"lastPetitionsContainer",children:[Object(l.jsx)("div",{className:"lastPetitionImgPetitionCard",style:{backgroundImage:"url(".concat(a,")")}}),Object(l.jsxs)("div",{className:"lastPetitionsInfo",children:[Object(l.jsxs)("div",{className:"userInfo",children:[Object(l.jsxs)("h6",{className:"petitionCreatedBy",children:[Object(l.jsx)("span",{children:"Petition created by: "}),n[0].name]}),Object(l.jsx)("div",{className:"petitionCreatedImg",style:{backgroundImage:"url(".concat(n[0].profilePicture,")")}})]}),Object(l.jsx)("h5",{className:"lastPetitionsTitle",children:r.toUpperCase()}),Object(l.jsx)(C.a,{striped:!0,variant:"success",animated:!0,now:45}),Object(l.jsxs)("h6",{className:"peopleSign",children:[Object(l.jsx)("span",{children:s.length?1===s.length?s.length+" person has already signed this petition":s.length+" persons have already signed this petition":"No one has signed this petition yet"})," a goal ",c," signs ",Object(l.jsx)(P.b,{})]})]})]})})},w={getArticles:f.getArticles,getPetitions:k.getPetitions},A=Object(u.b)((function(e){return{lastArticles:e.articleR.lastArticles,lastPetitions:e.petitionsR.lastPetitions}}),w)((function(e){return Object(c.useEffect)((function(){e.getArticles(),e.getPetitions()}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)("div",{className:"containerHome",children:[Object(l.jsx)("div",{className:"containerBanner",children:Object(l.jsx)("h2",{children:"CONTRIBUTE ON CAUSES BY SIGNING PETITIONS, WE NEED YOU TO BE PART."})}),Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Last Articles Created"})}),Object(l.jsxs)("div",{className:"divBlog",children:[e.lastArticles.map((function(e){return Object(l.jsx)(y,{lastArticle:e},e._id)})).reverse(),Object(l.jsx)("div",{className:"lastPetitionsCreated",children:Object(l.jsx)("h2",{children:"Last Petitions Created"})}),e.lastPetitions.map((function(e){return Object(l.jsx)(v.b,{to:"/petitions/".concat(e._id),style:{textDecoration:"none"},children:Object(l.jsx)(I,{lastPetition:e},e._id)})})).reverse(),Object(l.jsx)("div",{className:"white"})]})]})]})})),T=n(13),S=n(4),E=n(33),U=n.n(E),D={newUser:function(e,t){return function(){var n=Object(m.a)(p.a.mark((function n(c,a){var s,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e,t),n.prev=1,(s=new FormData).append("name",e.name),s.append("lastName",e.lastName),s.append("username",e.username),s.append("password",e.password),s.append("file",t.result),n.next=10,h.a.post("".concat(O,"/user/signup"),s,{headers:{"Content-Type":"multipart/formdata"}});case 10:if((r=n.sent).data.success){n.next=13;break}return n.abrupt("return",r.data);case 13:console.log(r),c({type:"LOG_USER",payload:r.data}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(1),g.a.fire(n.t0);case 20:case"end":return n.stop()}}),n,null,[[1,17]])})));return function(e,t){return n.apply(this,arguments)}}()},loginWithGoogle:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/user/sign_google"),e);case 3:if((a=t.sent).data.success){t.next=9;break}return console.log(a),t.abrupt("return",!1);case 9:console.log(a);case 10:n({type:"LOG_USER",payload:a.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),g.a.fire(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()},loginUser:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/user/signin"),e);case 3:if((a=t.sent).data.success){t.next=6;break}return t.abrupt("return",a.data);case 6:n({type:"LOG_USER",payload:a.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g.a.fire(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},logoutUser:function(){return function(e,t){try{e({type:"LOG_OUT_USER"})}catch(n){g.a.fire(n)}}},logFromLS:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/user/ls"),{token:e},{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,n({type:"LOG_USER",payload:{response:Object(S.a)({},a.data.response)}}),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),alert("Access denied"),localStorage.clear(),t.abrupt("return","/");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},R={loginWithGoogle:D.loginWithGoogle,loginUser:D.loginUser},_=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),R)((function(e){Object(c.useEffect)((function(){}));var t=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loginWithGoogle(n.profileObj);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=Object(c.useState)({username:"",password:""}),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)([]),d=Object(i.a)(o,2),u=(d[0],d[1]),j=function(e){var t=e.target,n=t.name,c=t.value;r(Object(S.a)(Object(S.a)({},s),{},Object(T.a)({},n,c)))},b=function(){var t=Object(m.a)(p.a.mark((function t(n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s.username&&""!==s.password){t.next=4;break}return alert("all fields are required!"),t.abrupt("return",!1);case 4:return u([]),t.next=7,e.loginUser(s);case 7:(c=t.sent)&&!c.success&&u([c.mensaje]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"loginDiv",children:[Object(l.jsx)("h1",{children:"LOGIN"}),Object(l.jsx)(U.a,{className:"login_input justify-content-center",clientId:"70385013439-d765viglf0jv9tq89u53csihoja864u0.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{children:"Or"}),Object(l.jsx)("span",{className:"line mx-auto"})]}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Your email address",className:"admin_input",name:"username",onChange:function(e){return j(e)}}),Object(l.jsx)("input",{type:"password",placeholder:"Password",className:"admin_input",name:"password",onChange:function(e){return j(e)}}),Object(l.jsx)("p",{onClick:function(e){alert("forgotPassword")},className:"forgotPass",children:"I forgot my password"}),Object(l.jsx)("button",{onClick:b,className:"btnLog",children:"Login"}),Object(l.jsx)("p",{children:"* By entering with Google you are agreeing to receive offers by email"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{children:"You do not have an account?"}),Object(l.jsx)("span",{className:"line mx-auto"})]})]})})),B=n(23),L=n.n(B),F={newUser:D.newUser,loginWithGoogle:D.loginWithGoogle},M=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),F)((function(e){var t=function(t){e.loginWithGoogle(t.profileObj)};Object(c.useEffect)((function(){}));var n=Object(c.useState)({name:"",lastName:"",username:"",password:""}),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)([]),d=Object(i.a)(o,2),u=d[0],j=d[1],b=function(e){var t=e.target,n=t.name,c=t.value;r(Object(S.a)(Object(S.a)({},s),{},Object(T.a)({},n,c)))},h=Object(c.useState)("/assets/user.png"),O=Object(i.a)(h,2),x=O[0],f=O[1],v=Object(c.useState)(),N=Object(i.a)(v,2),y=N[0],k=N[1],P=function(e,t,n){g.a.fire({icon:e,title:t,text:n,confirmButtonText:"Ok"})},C=function(){var t=Object(m.a)(p.a.mark((function t(n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s.name&&""!==s.lastName&&""!==s.username&&""!==s.password){t.next=6;break}return P("error","Fill in all fields"),t.abrupt("return",!1);case 6:if(void 0!==y){t.next=9;break}return P("error","Select a Profile Picture"),t.abrupt("return",!1);case 9:return j([]),t.next=12,e.newUser(s,y);case 12:(c=t.sent)&&!c.success?j(c.errores):P("success","You have Registered in Rewilding!");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"registerDiv",children:[Object(l.jsx)("h1",{children:"REGISTER"}),Object(l.jsx)(U.a,{className:"login_input justify-content-center",clientId:"70385013439-d765viglf0jv9tq89u53csihoja864u0.apps.googleusercontent.com",buttonText:"Register with Google",onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{className:"text",children:"Or register with your email"}),Object(l.jsx)("span",{className:"line mx-auto"})]}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Name",name:"name",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){if("name"===e.path[0])return Object(l.jsx)("p",{children:"The Name must be at least 4 characters up to 15 characters"})}))}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Last Name",name:"lastName",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){if("lastName"===e.path[0])return Object(l.jsx)("p",{children:"The Name must be at least 2 characters up to 20 characters"})}))}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Your email address",name:"username",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){var t=e.path;return"username"===t[0]?Object(l.jsx)("p",{children:"Enter a valid email address"}):"usernameExist"===t[0]?Object(l.jsx)("p",{children:"The email is already in use. Choose another."}):void 0}))}),Object(l.jsx)("input",{type:"password",placeholder:"Password for Rewilding",name:"password",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("p",{children:"The password must be 6-8 characters long."})}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){if("password"===e.path[0])return Object(l.jsx)("p",{children:"Enter a Valid Password"})}))}),Object(l.jsx)("label",{htmlFor:"profile-pic",className:"label_input_file",children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-center",style:{display:"flex",alignItems:"center"},children:[Object(l.jsx)("p",{children:"Select your Profile picture"}),Object(l.jsx)("img",{className:"img-fluid profile-pic-register",src:x,alt:"profile-pic",style:{width:"20vw"}})]})}),Object(l.jsx)("input",{type:"file",id:"profile-pic",className:"admin_input input-file",name:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new L.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){f(t.result)}}});k(n)}else P("error","Something went wrong!","Files must be of an image type")}},required:!0}),Object(l.jsx)("button",{type:"submit",onClick:C,className:"btnLog",children:"Register"}),Object(l.jsx)("p",{children:"* By entering with Google you are agreeing to receive offers by email"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{children:"Do you already have an account?"}),Object(l.jsx)("span",{className:"line mx-auto"})]})]})})})),z=n.p+"static/media/bannerLog.c3199c48.png",G=n.p+"static/media/arrow1.6858f2e3.png",Y=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"logInBanner",style:{backgroundImage:"url(".concat(z,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"container col-8 my-5 containerLog",children:[Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsxs)("div",{className:"col-8 text-center",children:[n?Object(l.jsx)(_,{}):Object(l.jsx)(M,{}),Object(l.jsx)("button",{onClick:function(){a(!n)},className:"btnReg",children:n?"Register":"Login"})]})}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-8 text-center textLog",children:Object(l.jsx)("p",{className:"h6",children:"By registering you are accepting our Terms and Conditions and our Privacy Policies"})})}),Object(l.jsxs)(v.b,{to:"/",style:{marginBottom:"2vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)("img",{src:G,style:{width:"30px"}}),Object(l.jsx)("p",{children:"Return Home"})]})]}),Object(l.jsx)("div",{className:"white"})]})},q=(n(91),{addVisit:k.addVisit}),V=Object(u.b)(null,q)((function(e){var t=e.petition,n=t.author,c=(t.createdAt,t.desc,t.destination,t.goal),a=(t.limitDate,t.picture),s=(t.reasons,t.signatures,t.title);t.updatedAt,t.visits,t.votes;return Object(l.jsx)(v.b,{to:"/petitions/".concat(e.petition._id),onClick:function(t){var n=e.petition._id;e.addVisit(n)},className:"text-decoration-none",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"lastPetitionsContainer",children:[Object(l.jsx)("div",{className:"lastPetitionImgPetitionCard",style:{backgroundImage:"url(".concat(a,")")}}),Object(l.jsxs)("div",{className:"lastPetitionsInfo",children:[Object(l.jsxs)("div",{className:"userInfo",children:[Object(l.jsxs)("h6",{className:"petitionCreatedBy",children:[Object(l.jsx)("span",{children:"Petition created by: "}),n[0].name]}),Object(l.jsx)("div",{className:"petitionCreatedImg",style:{backgroundImage:"url(".concat(n[0].profilePicture,")")}})]}),Object(l.jsx)("h5",{className:"lastPetitionsTitle",children:s.toUpperCase()}),Object(l.jsx)("p",{children:e.petition.desc.length>100?e.petition.desc.slice(0,70)+"...":e.petition.desc}),Object(l.jsx)(C.a,{striped:!0,variant:"success",animated:!0,now:45,className:"progressBar"}),Object(l.jsxs)("h6",{className:"peopleSign",children:[Object(l.jsx)("span",{children:e.petition.signatures.length?1===e.petition.signatures.length?e.petition.signatures.length+" person has already signed this petition":e.petition.signatures.length+" persons have already signed this petition":"No one has signed this petition yet"})," a goal ",c," signs ",Object(l.jsx)(P.b,{})]})]})]})})})})),W=n.p+"static/media/petitionsImg.0120861e.png",H={getPetitions:k.getPetitions,addVisit:k.addVisit},K=Object(u.b)((function(e){return{allPetitions:e.petitionsR.allPetitions}}),H)((function(e){var t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1];function r(){return(r=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPetitions();case 2:s(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"petitionBanner",style:{backgroundImage:"url(".concat(W,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"petitionContainer",children:[Object(l.jsx)("h1",{className:"petitionsPageTitle",children:Object(l.jsx)("span",{children:"PETITIONS"})}),e.allPetitions.map((function(e){return Object(l.jsx)(V,{petition:e},e._id)})).reverse()]})]})})})),J=n(16),X=n.p+"static/media/createPetitionImg.23334382.png",Q={addPetition:k.addPetition},Z=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),Q)((function(e){var t=Object(c.useState)({}),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)("/assets/upload.png"),o=Object(i.a)(r,2),d=o[0],u=o[1],j=Object(c.useState)(),p=Object(i.a)(j,2),m=p[0],b=p[1],h=function(e,t,n){g.a.fire({icon:e,title:t,text:n,confirmButtonText:"Ok"})},O=new Date;O.setHours(0,0,0,0);var x=function(t){var n,c=t.target.name,r=t.target.value;s(Object(S.a)(Object(S.a)({},a),{},(n={},Object(T.a)(n,c,r),Object(T.a)(n,"token",e.loggedUser.token),n)))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"createPetitionBanner",style:{backgroundImage:"url(".concat(X,")"),backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsx)("div",{className:"container my-4 ",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col col-sm-8 col-md-6 col-lg-6 mx-auto",children:[Object(l.jsx)("h2",{className:"text-center",style:{paddingTop:"2vh"},children:"CREATE PETITION"}),Object(l.jsxs)("div",{className:"createPetition text-center",children:[Object(l.jsx)("h5",{children:"Write down the title of your petition"}),Object(l.jsx)("span",{className:"h6",children:"It should be something meaningful"}),Object(l.jsx)("input",{autoComplete:"off",name:"title",type:"text",placeholder:"What are you looking to achieve?",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center",children:[Object(l.jsx)("h5",{children:"Who is it for?"}),Object(l.jsx)("span",{className:"h6",children:"Who can change this?"}),Object(l.jsx)("input",{autoComplete:"off",name:"destination",type:"text",placeholder:"Destination of your petition",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center",children:[Object(l.jsx)("h5",{children:"Choose a limit date for your petition"}),Object(l.jsx)("span",{className:"h6",children:"Final date"}),Object(l.jsx)("input",{name:"limitDate",type:"date",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center",children:[Object(l.jsx)("h5",{children:"Choose a goal for your petition"}),Object(l.jsx)("span",{className:"h6",children:"Signature limit"}),Object(l.jsx)("input",{placeholder:"10",minLength:"2",min:"10",name:"goal",type:"number",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center",children:[Object(l.jsx)("h5",{children:"Explain why you want to change it"}),Object(l.jsx)("span",{className:"h6",children:"It should be something meaningful"}),Object(l.jsx)("textarea",{name:"description",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center",children:[Object(l.jsx)("h5",{children:"Upload a picture for your petition"}),Object(l.jsx)("span",{className:"h6",children:"Make it a high res one"}),Object(l.jsxs)("label",{htmlFor:"inputUpload",children:[Object(l.jsx)("img",{style:{margin:"0"},className:"img-fluid profile-pic-profile-submit",src:d,alt:"petition-pic"}),Object(l.jsx)("h6",{className:"my-3",children:"Click in the reference image to upload your picture!"})]}),Object(l.jsx)("input",{id:"inputUpload",name:"picture",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new L.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){u(t.result)}}});b(n)}else h("error","Something went wrong")}else h("error","Petition must have a picture")}})]}),Object(l.jsx)("div",{className:"createPetitionButton d-flex justify-content-center my-3",children:Object(l.jsx)("button",{onClick:function(t){if(t.preventDefault(),void 0===a.length&&void 0===m)return h("error","All fields are required"),!1;if(!a.goal||!a.description||!a.destination||!a.limitDate||!a.title)return h("error","All fields are required"),!1;if(a.goal<10)return h("error","The signature goal must be greater than 10"),!1;var n=a.limitDate,c=new Date(n);if(c.setHours(0,0,0,0),O.getTime()+25e8>c.getTime())return h("error","The date should not be less than 30 days from the moment of creation"),!1;e.addPetition(a,m),e.history.push("/petitions")},children:"Send Petition"})})]})})})]})})),$=n(0),ee=n(25),te={editArticle:f.editArticle,getArticles:f.getArticles,deleteArticle:f.deleteArticle},ne=Object(u.b)((function(e){return{articles:e.articleR.articles,articleCategories:e.articleR.articleCategories}}),te)((function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)("/assets/losago.png"),o=Object(i.a)(r,2),d=(o[0],o[1],function(){var t=Object(m.a)(p.a.mark((function t(n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.article._id,t.next=4,e.deleteArticle(c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u=Object(c.useState)({_id:e.article._id,title:e.article.title,descripcion:e.article.descripcion,articleCategory:e.article.articleCategory}),j=Object(i.a)(u,2),b=j[0],h=j[1],O=function(e){var t=e.target,n=t.name,c=t.value;h(Object(S.a)(Object(S.a)({},b),{},Object(T.a)({},n,c)))},x=function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s(!a),t.next=4,e.editArticle(b);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"text",onChange:O,name:"title",defaultValue:e.article.title})}),Object(l.jsx)("td",{children:Object(l.jsxs)("select",{name:"articleCategory",onChange:O,children:[Object(l.jsx)("option",{value:"",selected:!0,children:"Select a Category"}),e.articleCategories.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))]})}),Object(l.jsx)("td",{children:Object(l.jsx)("textarea",{name:"descripcion",onChange:O,cols:"55",rows:"12",defaultValue:e.article.descripcion,required:!0})}),Object(l.jsx)("td",{children:Object(l.jsx)($.b.Provider,{value:{size:"3em"},children:Object(l.jsx)(ee.d,{onClick:function(e){return x(e)}})})}),Object(l.jsx)("td",{children:Object(l.jsx)($.b.Provider,{value:{size:"3em"},children:Object(l.jsx)(ee.a,{type:"submit",onClick:function(){return s(!a)}})})})]})}):Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.article.title}),Object(l.jsxs)("td",{children:[e.article.articleCategory," "]}),Object(l.jsx)("td",{children:e.article.descripcion.slice(0,100)+"..."}),Object(l.jsx)("td",{children:Object(l.jsx)(ee.c,{onClick:function(){return s(!a)}})}),Object(l.jsx)("td",{children:Object(l.jsx)(ee.e,{onClick:function(e){return d(e)}})})]})})})),ce=n(53),ae=n.p+"static/media/rewildingBanner.9dc11a19.png",se={newArticle:f.newArticle,getArticles:f.getArticles},re=Object(u.b)((function(e){return{articles:e.articleR.allArticles,articleCategories:e.articleR.articleCategories}}),se)((function(e){var t=Object(c.useState)({title:"",descripcion:"",articleCategory:""}),n=Object(i.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){e.getArticles()}),[e.articles]);var r=function(e){var t=e.target,n=t.name,c=t.value;s(Object(S.a)(Object(S.a)({},a),{},Object(T.a)({},n,c)))},o=function(){var t=Object(m.a)(p.a.mark((function t(n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a.title,a.articleCategory,""!==a.descripcion){t.next=4;break}return alert("All fields are required"),t.abrupt("return",!1);case 4:return c=localStorage.getItem("token"),t.next=7,e.newArticle(a,x,c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=Object(c.useState)("/assets/losago.png"),u=Object(i.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(),O=Object(i.a)(h,2),x=O[0],f=O[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"communityBanner",style:{backgroundImage:"url(".concat(ae,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"bg-dark topSectionAdmin",children:[Object(l.jsx)("div",{className:"sectionAdminBlog",children:Object(l.jsx)("h2",{className:"whiteAdminText",children:"Blog add Articles"})}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsx)("input",{className:"adminInputs",type:"text",onChange:r,name:"title",placeholder:"Put your title for this article"})}),Object(l.jsx)("label",{htmlFor:"signature-pic",className:"label_input_file",children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(l.jsx)("p",{className:"whiteAdminText",children:"Select your picture"}),Object(l.jsx)("img",{className:"",src:j,alt:"logo"})]})}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsxs)("select",{name:"articleCategory",onChange:r,children:[Object(l.jsx)("option",{value:"",selected:!0,hidden:!0,children:"Select a Category"}),e.articleCategories.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))]})}),Object(l.jsx)("input",{type:"file",id:"signature-pic",className:"admin_input input-file",name:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new L.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){b(t.result)}}});f(n)}else c="error",a="Something went wrong!",s="Files must be of an image type",g.a.fire({icon:c,title:a,text:s,confirmButtonText:"Ok"})}var c,a,s},required:!0}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsx)("textarea",{name:"descripcion",onChange:r,cols:"55",rows:"12",placeholder:"Write something in this article",required:!0})}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsx)("button",{className:"adminButton",onClick:o,children:"Submit"})})]}),Object(l.jsx)("h1",{children:"Edit and delete articles"}),Object(l.jsx)("div",{classname:"container",children:Object(l.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Title"}),Object(l.jsx)("th",{children:"Category"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Edit"}),Object(l.jsx)("th",{children:"Delete"})]})}),Object(l.jsx)("tbody",{children:e.articles.map((function(e){return Object(l.jsx)(ne,{article:e})}))})]})})]})})),ie=n.p+"static/media/bannerBlog.35ae41dd.png",oe={getArticles:f.getArticles,sendAddVisit:f.addVisit},le=Object(u.b)((function(e){return{allArticles:e.articleR.allArticles,articlePort:e.articleR.articlePort,articlePortMini:e.articleR.articlePortMini,articlesList:e.articleR.articlesList}}),oe)((function(e){var t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1];function r(){return(r=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getArticles();case 2:s(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]);var o=function(t){e.sendAddVisit(t.target.id)};return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"portadaBlog",style:{backgroundImage:"url(".concat(ie,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"container-fluid mt-3",children:[Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-12",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7  bg-greenLight p-4 d-flex justify-content-center ",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"categoryBlog",children:[e.articlePort[0].createdAt.slice(0,10)," | ",e.articlePort[0].articleCategory]}),Object(l.jsxs)(v.b,{to:"/article/".concat(e.articlePort[0]._id),className:"text-decoration-none",onClick:o,children:[Object(l.jsx)("p",{id:e.articlePort[0]._id,className:"h1 tituloBlog",children:e.articlePort[0].title}),Object(l.jsx)("p",{className:"descripcionBlog",children:e.articlePort[0].descripcion.slice(0,170)+"..."})]})]})}),Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-5 d-flex align-items-center",children:Object(l.jsx)(v.b,{to:"/article/".concat(e.articlePort[0]._id),className:"text-decoration-none",onClick:o,children:Object(l.jsx)("img",{id:e.articlePort[0]._id,src:e.articlePort[0].picture,className:"img-fluid scale-img"})})})]})}),Object(l.jsx)("div",{className:"col-12 mt-3",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-5 d-flex align-items-center",children:Object(l.jsx)(v.b,{to:"/article/".concat(e.articlePortMini[0]._id),className:"text-decoration-none",onClick:o,children:Object(l.jsx)("img",{id:e.articlePortMini[0]._id,src:e.articlePortMini[0].picture,className:"img-fluid scale-img"})})}),Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7 bg-greenLight p-4 d-flex justify-content-center ",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"categoryBlog",children:[e.articlePortMini[0].createdAt.slice(0,10)," | ",e.articlePortMini[0].articleCategory]}),Object(l.jsxs)(v.b,{to:"/article/".concat(e.articlePortMini[0]._id),className:"text-decoration-none",onClick:o,children:[Object(l.jsx)("p",{id:e.articlePortMini[0]._id,className:"h1 tituloBlog",children:e.articlePortMini[0].title}),Object(l.jsx)("p",{className:"descripcionBlog",children:e.articlePortMini[0].descripcion.slice(0,170)+"..."})]})]})})]})})]})}),Object(l.jsx)("div",{className:"bannerLatest my-3",children:Object(l.jsx)("h2",{children:"Last Articles Created"})}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"articlesList",children:e.articlesList.map((function(e){return Object(l.jsx)(y,{lastArticle:e},e._id)}))})})})]})]})})})),de={likeReason:function(e){try{var t=e.petId,n=e.id,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/petitions/like/"),{petId:t,id:n},{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"LIKE",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},dislikeReason:function(e){console.log(e);try{var t=e.petId,n=e.id,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/petitions/dislike/").concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"DISLIKE",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},deleteReason:function(e){console.log(e);try{var t=e.petId,n=e.id,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/petitions/delete/").concat(n,"/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"DELETE_REASON",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},modifyReason:function(e){try{var t=e.id,n=e.petId,c=e.modification,a=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(s,r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/petitions/modifyReason"),{id:t,petId:n,modification:c},{headers:{Authorization:"Bearer ".concat(a)}});case 2:i=e.sent,s({type:"MODIFY_REASON",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(s){g.a.fire(s)}},recoverPassword:function(e){try{return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("".concat(O,"/password/"),{email:e});case 2:!1===(a=t.sent).data.success&&g.a.fire(a.data.message),n({type:"PASSWORD",payload:a.data.response});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}catch(t){g.a.fire(t)}}},ue=n(14),je={likeReason:de.likeReason,dislikeReason:de.dislikeReason,deleteReason:de.deleteReason,modifyReason:de.modifyReason},pe=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),je)((function(e){var t=e.reasons,n=e.loggedUser,a=e.likeReason,s=e.dislikeReason,r=e.deleteReason,o=e.modifyReason,d=e.petId,u=t.name,j=t.profilePicture,p=t.reason,m=t._id,b=t.likes,h=t.userId,O=Object(c.useState)({}),x=Object(i.a)(O,2),g=x[0],f=x[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),y=N[0],k=N[1];return Object(l.jsx)("div",{className:"reasonInd",children:p.length>0&&Object(l.jsxs)("div",{className:"boxStyleCommentContainer",children:[Object(l.jsxs)("div",{className:"d-flex p-3",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(j,")"),width:"60px",height:"60px",backgroundPosition:"center",backgroundSize:"cover"},className:"userPicPetitions"}),Object(l.jsx)("h4",{className:"signPetitionName",children:u}),y?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{id:m,name:"modification",type:"text",onChange:function(e){var t=e.target.id,c=e.target.name,a=e.target.value;f(Object(S.a)(Object(S.a)({},g),{},Object(T.a)({userId:h,id:t,petId:d,token:n.token},c,a)))},placeholder:p,className:"inputEditReason"}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),o(g),k(!y)},children:"SEND"})]}):Object(l.jsx)("p",{className:"text-break reasonComment",children:p})]}),Object(l.jsxs)("div",{className:"boxIconPetitionContainer",children:[n?b.find((function(e){return e.id===n.userId}))?Object(l.jsxs)("div",{children:[Object(l.jsx)(ue.c,{className:"likesReasonPetition",onClick:function(e){console.log(m),s({id:m,petId:d,token:n.token})},id:m}),b.length]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(ue.i,{className:"likesReasonPetition",onClick:function(e){var t=e.target.id;a({petId:d,id:t,token:n.token})},id:m}),b.length]}):Object(l.jsxs)("div",{className:"SingleIconContainer",children:[Object(l.jsx)(ue.c,{id:m}),b.length]}),n&&n.userId===h&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"SingleIconContainer",children:Object(l.jsx)(ue.a,{id:m,onClick:function(e){var t=e.target.id;r({id:t,petId:d,token:n.token})}})}),Object(l.jsx)("div",{className:"SingleIconContainer",onClick:function(e){e.preventDefault(),k(!y)},children:Object(l.jsx)(ue.b,{})})]})]})]})})})),me=function(e){var t=e.reasons,n=e.petId;return Object(l.jsx)("div",{children:t.map((function(e){return Object(l.jsx)(pe,{reasons:e,petId:n})}))})},be=n.p+"static/media/bannerPetitionInd.d53d0c0d.png",he=n(37),Oe={signPetition:k.signPetition},xe=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser,onePetition:e.petitionsR.allPetitions}}),Oe)((function(e){var t=e.match.params.id,n=Object(c.useState)({}),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(e.loggedUser&&{reason:"",petId:t,token:e.loggedUser.token}),d=Object(i.a)(o,2),u=d[0],j=d[1],b=e.onePetition;Object(c.useEffect)((function(){r(b.filter((function(e){return e._id===t}))),0===e.onePetition.length&&e.history.push("/petitions")}),[t,b]);var h=function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loggedUser?e.signPetition(u):g.a.fire({title:"Oops!",text:"You must be logged in to sign this petition!",icon:"warning",confirmButtonColor:"#c1946a",confirmButtonText:"Log me in!",background:"#82b74b",iconColor:"white",backdrop:"rgba(64, 93, 39, 0.3)"}).then((function(t){t.isConfirmed&&e.history.push("/login")}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(s),Object(l.jsx)("div",{children:s.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"createPetitionBanner",style:{backgroundImage:"url(".concat(be,")"),backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsx)("h1",{className:"indPetitionTitle",children:Object(l.jsxs)("span",{children:["Petition To: ",s[0].title]})}),Object(l.jsxs)("div",{className:"singlePetitionContainer",children:[Object(l.jsxs)("div",{className:"petitionHeader",children:[Object(l.jsx)("div",{className:"petitionHeaderImg",style:{backgroundImage:"url(".concat(s[0].author[0].profilePicture,")")}}),Object(l.jsxs)("h6",{className:"petitionHeaderAuthor",children:["Petition Created By: ",s[0].author[0].name]})]}),Object(l.jsx)("div",{className:"singlePetitionImg",style:{backgroundImage:"url(".concat(s[0].picture,")")}}),Object(l.jsx)("div",{className:"description",children:s[0].desc}),Object(l.jsx)("div",{className:"signaturesPetitionInd",children:Object(l.jsxs)("h6",{children:[s[0].signatures.length>=s[0].goal?Object(l.jsx)("div",{children:Object(l.jsx)("p",{})}):1===s[0].signatures.length?s[0].signatures.length+" person has ":s[0].signatures.length+" persons have ",Object(l.jsx)("span",{children:"already signed this petition "})]})}),Object(l.jsx)("h4",{className:"py-1",children:"Signs"}),Object(l.jsxs)("div",{className:"reasonsPetitionContainer reasonsPetition",children:[s[0].signatures.length<s[0].goal&&Object(l.jsxs)("div",{className:"inputPetitions",children:[Object(l.jsx)("input",{type:"text",onChange:function(n){var c=n.target.value;e.loggedUser?j({reason:c.trim(),petId:t,token:e.loggedUser.token}):g.a.fire({title:"Oops!",text:"You must be logged in to sign this petition!",icon:"warning",confirmButtonColor:"#c1946a",confirmButtonText:"Log me in!",background:"#82b74b",iconColor:"white",backdrop:"rgba(64, 93, 39, 0.3)"}).then((function(t){t.isConfirmed&&e.history.push("/login")}))},placeholder:"I'm signing because ... (optional) "}),Object(l.jsx)("p",{onClick:h,className:"sendPetition",children:Object(l.jsx)(ue.j,{})})]}),Object(l.jsx)("div",{className:"comentaryReasonBox",children:Object(l.jsx)(me,{reasons:s[0].reasons,petId:s[0]._id})})]})]}),Object(l.jsx)("div",{className:"goToPetitions",children:Object(l.jsxs)(v.b,{to:"/petitions",className:"returnPet",children:[Object(l.jsx)(he.a,{}),Object(l.jsx)("p",{children:"Return to Petitions"})]})})]})})})),ge={addPost:function(e,t){try{var n=e.text,c=e.token,a=new FormData;return a.append("text",n),t&&a.append("postPicture",t.name),a.append("file",t),function(){var e=Object(m.a)(p.a.mark((function e(t,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts"),a,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/formdata"}});case 2:s=e.sent,t({type:"ADD_POST",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(s){g.a.fire(s)}},getPosts:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(O,"/posts"));case 3:c=e.sent,t({type:"GET_POSTS",payload:c.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},submitPostModification:function(e){try{var t=e.postId,n=e.editPost,c=e.token,a=e.compressedFile,s=new FormData;return s.append("editPost",n),s.append("postId",t),a&&s.append("postPicture",a.result.name),a&&s.append("file",a.result),function(){var e=Object(m.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/posts"),s,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/formdata"}});case 2:a=e.sent,t({type:"UPDATE_POST",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(r){g.a.fire(r)}},newComment:function(e){try{var t=e.postId,n=e.comment,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts/comments"),{postId:t,comment:n},{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"UPDATE_POST",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},sendLikePost:function(e){try{var t=e.postId,n=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(c,a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts/like"),{postId:t},{headers:{Authorization:"Bearer ".concat(n)}});case 2:s=e.sent,c({type:"UPDATE_POST",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(c){g.a.fire(c)}},sendDislikePost:function(e){try{var t=e.postId,n=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(c,a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/dislike/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 2:s=e.sent,c({type:"UPDATE_POST",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(c){g.a.fire(c)}},removePost:function(e){try{var t=e.postId,n=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(c,a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 2:s=e.sent,c({type:"GET_POSTS",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(c){g.a.fire(c)}},likeCommentPost:function(e){try{var t=e.idComment,n=e.postId,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts/likeComments"),{idComment:t,postId:n},{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"UPDATE_POST",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},dislikeCommentPost:function(e){try{var t=e.idComment,n=e.postId,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/dislikeComments/").concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"UPDATE_POST",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},deleteCommentPost:function(e){try{var t=e.postId,n=e.idComment,c=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(a,s){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/comments/").concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(c)}});case 2:r=e.sent,a({type:"UPDATE_POST",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},editCommentPost:function(e){try{var t=e.idComment,n=e.postId,c=e.newCommentEdit,a=e.token;return function(){var e=Object(m.a)(p.a.mark((function e(s,r){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/posts/comments"),{idComment:t,postId:n,newCommentEdit:c},{headers:{Authorization:"Bearer ".concat(a)}});case 2:i=e.sent,s({type:"UPDATE_POST",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(s){g.a.fire(s)}}},fe=(n(28),{likeCommentPost:ge.likeCommentPost,dislikeCommentPost:ge.dislikeCommentPost,deleteCommentPost:ge.deleteCommentPost,editCommentPost:ge.editCommentPost}),ve=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),fe)((function(e){var t=e.comment,n=e.name,a=e.profilePicture,s=e.likes,r=e.loggedUser,o=e.idComment,d=e.postId,u=e.likeCommentPost,j=e.dislikeCommentPost,p=e.userId,m=e.deleteCommentPost,b=e.editCommentPost,h=Object(c.useState)(!1),O=Object(i.a)(h,2),x=O[0],f=O[1],N=Object(c.useState)({}),y=Object(i.a)(N,2),k=y[0],P=y[1],C=g.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}});return Object(l.jsxs)("div",{className:"singleCommentContainer",children:[Object(l.jsxs)("div",{className:"singleComment",children:[Object(l.jsx)("div",{className:"commentCredentials",children:Object(l.jsxs)(v.b,{to:"/profile/".concat(p),style:{display:"flex",textDecoration:"none",color:"white"},className:"usernameCommentLink",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(a,")")},className:"commentUserPic"}),Object(l.jsxs)("p",{className:"commentUsername",children:[n,":"]})]})}),x?Object(l.jsxs)("div",{className:"editTextCommentContainer",children:[Object(l.jsx)("input",{type:"text",name:"newCommentEdit",placeholder:t,onChange:function(e){var t,n=e.target.name,c=e.target.value;P(Object(S.a)(Object(S.a)({},k),{},(t={},Object(T.a)(t,n,c),Object(T.a)(t,"postId",d),Object(T.a)(t,"idComment",o),Object(T.a)(t,"token",r.token),t)))},className:"editCommentInput",autoComplete:"off"}),Object(l.jsx)("div",{className:"sendComment",style:{display:"flex",alignItems:"center",fontSize:"21px",padding:"0 0.3rem"},children:Object(l.jsx)(ue.j,{onClick:function(e){f(!x),b(k),C.fire({icon:"success",title:"Comment modified!"})},style:{cursor:"pointer"}})})]}):Object(l.jsx)("div",{className:"commentComment",children:Object(l.jsx)("p",{children:t})})]}),Object(l.jsxs)("div",{className:"postLikeInteraction",children:[r?s.find((function(e){return e.id===r.userId}))?Object(l.jsxs)("div",{className:"commentLike",children:[Object(l.jsx)(ue.c,{onClick:function(e){e.preventDefault(),j({postId:d,idComment:o,token:r.token})},style:{color:"darkred",cursor:"pointer"}}),s.length]}):Object(l.jsxs)("div",{className:"commentLike",children:[Object(l.jsx)(ue.i,{onClick:function(e){e.preventDefault(),u({postId:d,idComment:o,token:r.token})},style:{color:"darkred",cursor:"pointer"}}),s.length]}):Object(l.jsxs)("div",{className:"commentLike",children:[Object(l.jsx)(ue.i,{style:{color:"darkred",cursor:"pointer"}}),s.length]}),Object(l.jsx)("div",{className:"commentMod",children:r&&r.userId===p&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ue.a,{className:"aiIcon delete",onClick:function(e){e.preventDefault(),m({postId:d,idComment:o,token:r.token}),C.fire({icon:"success",title:"Comment deleted!"})}}),Object(l.jsx)(ue.k,{className:"aiIcon edit",onClick:function(e){e.preventDefault(),f(!x)}})]})})]})]})})),Ne=n(111),ye={newComment:ge.newComment,sendLikePost:ge.sendLikePost,sendDislikePost:ge.sendDislikePost,submitPostModification:ge.submitPostModification,removePost:ge.removePost},ke=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),ye)((function(e){var t=e.post,n=e.loggedUser,a=e.newComment,s=e.sendLikePost,r=e.sendDislikePost,o=e.submitPostModification,d=e.removePost,u=Object(c.useState)({}),j=Object(i.a)(u,2),p=j[0],m=j[1],b=Object(c.useState)({}),h=Object(i.a)(b,2),O=h[0],x=h[1],f=Object(c.useState)(!1),N=Object(i.a)(f,2),y=N[0],k=N[1],C=Object(c.useState)(""),I=Object(i.a)(C,2),w=I[0],A=I[1],E=Object(c.useState)(),U=Object(i.a)(E,2),D=U[0],R=U[1],_=Object(c.useState)(!1),B=Object(i.a)(_,2),F=B[0],M=B[1],z=Object(J.g)(),G=g.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}}),Y=t.createdAt;return Object(l.jsxs)("div",{className:"postContainer",children:[Object(l.jsxs)("div",{className:"postHeader",children:[Object(l.jsxs)("div",{className:"userCredentialsOnPost",children:[Object(l.jsx)(v.b,{to:"profile/".concat(t.userId),style:{color:"white",textDecoration:"none"},children:Object(l.jsx)("div",{style:{width:"50px",height:"50px",backgroundImage:"url(".concat(t.userPic,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"profilePictureOnPost"})}),Object(l.jsxs)("div",{className:"nameAndDate",children:[Object(l.jsx)("div",{className:"postUsernameContainer",children:Object(l.jsx)(v.b,{to:"profile/".concat(t.userId),style:{color:"white",textDecoration:"none"},children:Object(l.jsx)("h5",{className:"postUsername",children:t.username})})}),Object(l.jsx)("div",{className:"postDate",children:Object(l.jsx)("h4",{children:Y&&Y.slice(0,10)})})]})]}),Object(l.jsx)("div",{className:"likesHeaderContainer",children:n?t.likes.find((function(e){return e._id===n.userId}))?Object(l.jsx)("div",{className:"likeContainer",children:Object(l.jsxs)("div",{className:"dispatchLike",onClick:function(e){e.preventDefault(),r({postId:t._id,token:n.token})},id:t._id,children:[Object(l.jsx)(ue.c,{style:{color:"darkred",cursor:"pointer"}}),t.likes.length]})}):Object(l.jsx)("div",{className:"likeContainer",children:Object(l.jsxs)("div",{className:"dispatchLike",onClick:function(e){e.preventDefault(),s({postId:t._id,token:n.token})},id:t._id,children:[Object(l.jsx)(ue.i,{className:"aiIcon like",style:{color:"darkred",cursor:"pointer"}}),t.likes.length]})}):Object(l.jsxs)("div",{className:"likeContainer",children:[Object(l.jsx)(ue.i,{onClick:function(){return g.a.fire({title:"Oops!",text:"You must be logged in!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&z.push("/login")}))},style:{color:"darkred",cursor:"pointer"},className:"aiIcon like"}),t.likes.length]})})]}),t.picture&&Object(l.jsx)("div",{className:"d-flex justify-content-center postPictureContainer",children:Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(t.picture,")"),width:"100%",height:"30rem",backgroundSize:"cover",backgroundPosition:"center"},className:"postPicture"})}),Object(l.jsx)("div",{className:"postTextContainer",children:Object(l.jsx)("h5",{className:"postText",children:t.text})}),Object(l.jsxs)("div",{className:"userInteractionsOnPost",children:[y&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"text",name:"editPost",onChange:function(e){var c=e.target.name,a=e.target.value;x(Object(S.a)(Object(S.a)({},O),{},Object(T.a)({postId:t._id,token:n.token,file:D},c,a)))},className:"postInputEdit",placeholder:t.text.slice(0,30)+"...",autoComplete:"off"}),Object(l.jsx)("input",{type:"file",id:"file-upload-post",name:"fileEdit",onChange:function(e){if(e.target.files&&e.target.files.length>0){var c=e.target.files[0];if(c.type.includes("image")){var a=new L.a(c,{quality:.2,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){A(t.result)}}});R(a),x(Object(S.a)(Object(S.a)({},O),{},{compressedFile:a,token:n.token,postId:t._id}))}else s="error",r="Something went wrong!",i="Files must be of an image type",g.a.fire({icon:s,title:r,text:i,confirmButtonText:"Ok"})}var s,r,i}}),Object(l.jsx)("label",{htmlFor:"file-upload-post",className:"custom-file-upload-post",children:Object(l.jsx)(P.a,{className:"aiIcon upload"})}),Object(l.jsxs)("div",{className:"colorButtonsEditPost",children:[Object(l.jsx)(Ne.a,{onClick:function(e){e.preventDefault(),d({token:n.token,postId:t._id}),G.fire({icon:"success",title:"Post deleted!"}),k(!y)},color:"danger",style:{margin:"0 0.3rem"},children:"DELETE"}),Object(l.jsx)(Ne.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),o(O,D),x({}),k(!y),G.fire({icon:"success",title:"Post modified!"})},color:"success",style:{margin:"0 0.3rem"},children:"CONFIRM"})]})]}),n&&n.userId===t.userId&&Object(l.jsx)(Ne.a,{onClick:function(){return k(!y)},children:" EDIT"})]}),D&&y&&Object(l.jsx)("div",{className:"imagePreviewContainer",children:Object(l.jsx)("div",{style:{width:"50rem",height:"30rem",backgroundImage:"url(".concat(w,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"editPictureOnPost"})}),Object(l.jsxs)("div",{className:"commentsContainer",children:[Object(l.jsx)("div",{className:"commentSectionTitle",children:Object(l.jsx)("p",{children:"Comments"})}),F&&Object(l.jsx)("div",{className:"commentsMapContainer",children:Object(l.jsx)("div",{className:"commentsMap",children:t.comments.map((function(e){var n=e.comment,c=e.name,a=e.profilePicture,s=e.likes,r=e._id,i=e.userId;return Object(l.jsx)(ve,{comment:n,name:c,profilePicture:a,likes:s,idComment:r,postId:t._id,userId:i},r)}))})}),Object(l.jsx)("div",{className:"viewMoreContainer",children:Object(l.jsx)("span",{children:t.comments.length?Object(l.jsx)("span",{onClick:function(){return M(!F)},style:{cursor:"pointer"},children:"View".concat(F?" less":" more")}):Object(l.jsxs)("div",{className:"noComments",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat("/assets/commentsPlaceholder.png",")")},className:"noCommentsPlaceholder"}),Object(l.jsx)("span",{className:"noCommentsYet",style:{textDecoration:"none"},children:"No comments yet!"})]})})}),Object(l.jsxs)("div",{className:"inputContainer",children:[Object(l.jsx)("input",{name:"comment",type:"text",placeholder:"Enter comment...",onChange:function(e){var c=e.target.name,a=e.target.value;n?m(Object(S.a)(Object(S.a)({},p),{},Object(T.a)({postId:t._id,token:n.token},c,a))):(g.a.fire({title:"Oops!",text:"You must be logged in to comment on this post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&z.push("/login")})),e.target.value="")},autoComplete:"off",disabled:!n,className:"commentInput",value:p.comment&&""!==p.comment?p.comment:""}),Object(l.jsx)("div",{className:"sendButton",onClick:function(e){if(n){if(!p.comment||""===p.comment.trim())return void g.a.fire({title:"Oops!",text:"Comment can't be empty!",icon:"error",confirmButtonColor:"#c1866a",confirmButtonText:"Ok!",background:"#4b98b7",iconColor:"#ec8787",backdrop:"rgba(80, 80, 80, 0.3)"});e.preventDefault(),a(p),m({}),M(!0),G.fire({icon:"success",title:"Comment posted"})}else g.a.fire({title:"Oops!",text:"You must be logged in to comment on this post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&z.push("/login")}))},style:{cursor:"pointer"},children:Object(l.jsx)(ue.j,{style:{cursor:"pointer"}})})]})]})]})})),Pe=n(54),Ce={addPost:ge.addPost,getPosts:ge.getPosts},Ie=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser,allPosts:e.postR.allPosts}}),Ce)((function(e){var t=Object(c.useState)({}),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),d=o[0],u=o[1],j=Object(c.useState)(),p=Object(i.a)(j,2),m=p[0],b=p[1],h=Object(c.useState)([]),O=Object(i.a)(h,2),x=O[0],f=O[1],N=e.allPosts,y=function(e,t,n){g.a.fire({icon:e,title:t,text:n,confirmButtonText:"Ok"})};Object(c.useEffect)((function(){e.getPosts()}),[]),Object(c.useEffect)((function(){f(N)}),[N]);var k=Object(J.g)(),C=g.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}});return Object(l.jsxs)("div",{className:"inputPostContainerContainer",children:[Object(l.jsxs)("div",{className:"inputPostContainer",children:[Object(l.jsxs)("div",{className:"postsTextArea",children:[Object(l.jsx)("div",{className:"profilePictureOnPostContainer",children:Object(l.jsx)(v.b,{to:"/profile/".concat(e.loggedUser?e.loggedUser.userId:""),children:Object(l.jsx)("div",{style:{width:"50px",height:"50px",backgroundImage:"url(".concat(e.loggedUser?e.loggedUser.profilePicture:"/assets/profilePictures/panda-avatar.jpg",")"),backgroundSize:"cover",backgroundPosition:"center"},className:"profilePictureOnPost"})})}),Object(l.jsx)("textarea",{name:"text",placeholder:"What's on your mind ".concat(e.loggedUser?e.loggedUser.name:""," ?"),onChange:function(t){var n,c=t.target.name,r=t.target.value;e.loggedUser?s(Object(S.a)(Object(S.a)({},a),{},(n={},Object(T.a)(n,c,r),Object(T.a)(n,"token",e.loggedUser.token),n))):(g.a.fire({title:"Oops!",text:"You must be logged in to post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&k.push("/login")})),t.target.value="")},id:"postText",className:"w-100 textareaPost"})]}),Object(l.jsxs)("div",{className:"filesPost",children:[Object(l.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:[Object(l.jsx)(P.a,{className:"aiIcon upload"})," Upload Picture"]}),Object(l.jsx)("input",{id:"file-upload",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){u(n.result)},b(t)}else y("error","Oops!","You must upload a valid image file")}}}),""===d?null:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(d,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"postPicturePreview"}),Object(l.jsx)(Pe.a,{onClick:function(){return u(""),void b("")},style:{color:"red",fontSize:"21px",cursor:"pointer"}})]}),Object(l.jsx)(Ne.a,{onClick:function(t){if(t.preventDefault(),!e.loggedUser)return g.a.fire({title:"Oops!",text:"You must be logged in to post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&k.push("/login")})),void(t.target.value="");a.text?a.text.split(" ").length<3&&a.text.length<10?y("error","Oops!","Text is too short! \ud83d\ude05"):a.text.split(" ").length>500&&a.text.length>700?y("error","Oops!","Text is too long! \ud83d\ude05"):(document.getElementById("postText").value="",C.fire({icon:"success",title:"Post uploaded"}),t.preventDefault(),e.addPost(a,m)):y("error","Oops!","You must include some text in your post first! \ud83d\ude05")},color:"success",style:{padding:" 0.2rem 3rem",fontSize:"27px",fontWeight:"500"},children:"Publish"})]})]}),x&&x.map((function(e){return Object(l.jsx)(ke,{post:e},e._id)})).reverse()]})})),we=n.p+"static/media/communityImg.4891d1c7.png",Ae={getPetitions:k.getPetitions,getArticles:f.getArticles},Te=Object(u.b)((function(e){return{allPetitions:e.petitionsR.allPetitions,loggedUser:e.authR.loggedUser,articles:e.articleR.allArticles}}),Ae)((function(e){var t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),d=o[0],u=o[1],j=e.allPetitions;function b(){return(b=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getArticles();case 2:return t.next=4,e.getPetitions();case 4:s(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){u(j.sort((function(e,t){return t.visits-e.visits})))}),[j]),Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)("div",{className:"communityContainer",children:[Object(l.jsx)("div",{className:"communityBanner",style:{backgroundImage:"url(".concat(we,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsx)("div",{className:"communityContainerBelow",children:Object(l.jsxs)("div",{className:"comunityEntry align-items-start",children:[Object(l.jsxs)("div",{className:"col-2 card popularPetitions",style:{display:"flex",flexDirection:"column"},children:[Object(l.jsx)("div",{className:"sideCardsTitle",children:Object(l.jsx)("h3",{children:"Popular Petitions"})}),Object(l.jsx)("div",{className:"sideCardsContainer",children:d.slice(0,3).map((function(e){var t=e.title,n=e.picture,c=e._id;return Object(l.jsx)(v.b,{className:"popularPetitionCard",to:"/petitions/".concat(c),style:{textDecoration:"none"},children:Object(l.jsx)("div",{className:"card",children:Object(l.jsx)("div",{className:"communityImg card-img-top",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover",backgroundPosition:"center"},children:Object(l.jsx)("h5",{className:"cardTitle",children:t})})})},c)}))})]}),Object(l.jsx)("div",{className:"col-8 d-flex justify-content-center allPostsContainerContainer",children:Object(l.jsx)("div",{className:"w-100 allPostsContainer",children:Object(l.jsx)(Ie,{})})}),Object(l.jsxs)("div",{className:"col-2 card popularPetitions",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[Object(l.jsx)("div",{className:"sideCardsTitle",children:Object(l.jsx)("h3",{children:"Latest Blog Entries"})}),Object(l.jsx)("div",{className:"sideCardsContainer",children:e.articles.slice(e.articles.length-3,e.articles.length).map((function(e){var t=e.title,n=e.picture,c=e._id;return Object(l.jsx)(v.b,{className:"popularPetitionCard",to:"/article/".concat(c),style:{textDecoration:"none"},children:Object(l.jsx)("div",{className:"card",children:Object(l.jsx)("div",{className:"communityImg card-img-top",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover",backgroundPosition:"center"},children:Object(l.jsx)("h5",{className:"card-title cardTitle",children:t.length>30?t.split(" ").slice(0,5).join().replace(/,/g," ")+"...":t})})})},c)}))})]})]})})]})})})),Se=n.p+"static/media/logoNuevo.a3412f74.png",Ee=(n(92),n(27)),Ue=n(55),De=(n(109),{logoutUser:D.logoutUser}),Re=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),De)((function(e){console.log(e.props);var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],r=function(){s(!a)};if(e.props.loggedUser)var o=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(v.c,{to:"/profile/".concat(e.props.loggedUser.userId),className:"userLinkBurger",children:[Object(l.jsx)("img",{src:e.props.loggedUser.profilePicture,alt:"profile",className:"userImg"}),Object(l.jsxs)("h6",{children:["Hi! ",e.props.loggedUser.name]})]}),Object(l.jsx)(v.c,{to:"/",onClick:r,children:Object(l.jsxs)("div",{id:"logOut",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Ee.b,{className:"logOutIconBurger",onClick:function(){return e.logoutUser()}})}),Object(l.jsx)("div",{className:"optionMenu",onClick:function(){return e.logoutUser()},children:"LogOut"})]})})]});return Object(l.jsxs)(Ue.slide,{isOpen:a,right:!0,children:[Object(l.jsx)("div",{className:"sideBarTitle",children:Object(l.jsx)("h2",{children:"Menu"})}),o,Object(l.jsx)(v.c,{to:"/login",onClick:r,children:Object(l.jsxs)("div",{id:"login",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Ee.a,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Login"})]})}),Object(l.jsx)(v.c,{to:"/",onClick:r,children:Object(l.jsxs)("div",{id:"home",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(ue.d,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Home"})]})}),Object(l.jsx)(v.c,{to:"/blog",onClick:r,children:Object(l.jsxs)("div",{id:"blog",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(ue.g,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Blog"})]})}),Object(l.jsx)(v.c,{to:"/community",onClick:r,children:Object(l.jsxs)("div",{id:"community",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(ue.e,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Community"})]})}),Object(l.jsx)(v.c,{to:"/petitions",onClick:r,children:Object(l.jsxs)("div",{id:"petitions",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(ue.h,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Petitions"})]})}),Object(l.jsx)(v.c,{to:"/createPetition",onClick:r,children:Object(l.jsxs)("div",{id:"createPetition",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(ue.f,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Create a petition"})]})}),Object(l.jsxs)("div",{className:"menu-item",children:[Object(l.jsx)("div",{className:"iconMenu"}),Object(l.jsx)("div",{className:"optionMenu"})]})]})})),_e={logoutUser:D.logoutUser},Be=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),_e)((function(e){if(window.onscroll=function(){window.scrollY>300?document.querySelector(".navBar").classList.add("affix"):document.querySelector(".navBar").classList.remove("affix")},null===e.loggedUser)var t=Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v.c,{to:"/login",children:Object(l.jsx)("p",{children:"LOGIN"})})});else if("admin"===e.loggedUser.rol)t=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v.c,{to:"/createPetition",children:Object(l.jsx)("p",{children:"CREATE PETITION"})}),Object(l.jsx)(v.c,{to:"/adminBlog",children:Object(l.jsx)("p",{children:"ADMIN BLOG"})}),Object(l.jsxs)(v.c,{to:"/profile/".concat(e.loggedUser.userId),className:"userHeaderLink",children:[Object(l.jsx)("img",{src:e.loggedUser.profilePicture,alt:"profile",className:"userImg"}),Object(l.jsxs)("h6",{children:["Hi! ",e.loggedUser.name]})]}),Object(l.jsx)(v.c,{to:"/",children:Object(l.jsx)(Ee.b,{className:"logOut",onClick:function(){return e.logoutUser()}})})]});else t=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v.c,{to:"/createPetition",children:Object(l.jsx)("p",{children:"CREATE PETITION"})}),Object(l.jsxs)(v.c,{to:"/profile/".concat(e.loggedUser.userId),className:"userHeaderLink",children:[Object(l.jsx)("img",{src:e.loggedUser.profilePicture,alt:"profile",className:"userImg"}),Object(l.jsxs)("h6",{children:["Hi! ",e.loggedUser.name]})]}),Object(l.jsx)(v.c,{to:"/",children:Object(l.jsx)(Ee.b,{className:"logOut",onClick:function(){return e.logoutUser()}})})]});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("nav",{className:"navBar",children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsxs)(v.c,{to:"/",className:"headerLogondSlogan",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(Se,")")},className:"logoDiv"}),Object(l.jsx)("h6",{children:"R E W I L D I N G | A place for the planet"})]})}),Object(l.jsxs)("div",{className:"pages",children:[Object(l.jsx)(v.c,{exact:!0,to:"/",children:Object(l.jsx)("p",{children:"HOME"})}),Object(l.jsx)(v.c,{to:"/blog",children:Object(l.jsx)("p",{children:"BLOG"})}),Object(l.jsx)(v.c,{to:"/community",children:Object(l.jsx)("p",{children:"COMMUNITY"})}),Object(l.jsx)(v.c,{to:"/petitions",children:Object(l.jsx)("p",{children:"PETITIONS"})}),t]})]}),Object(l.jsx)(Re,{props:e})]})})),Le=n.p+"static/media/twitter.657be530.png",Fe=n.p+"static/media/facebook.7bea9971.png",Me=n.p+"static/media/instagram.da241ea3.png",ze=n.p+"static/media/youtube.190b36a8.png",Ge=n.p+"static/media/reLogo.b907dd2c.png",Ye=function(){return Object(l.jsxs)("div",{className:"footerDiv",children:[Object(l.jsx)("div",{className:"logoRew",children:Object(l.jsx)("img",{src:Ge})}),Object(l.jsxs)("div",{className:"listNav",children:[Object(l.jsx)(v.b,{to:"/",children:"HOME"}),Object(l.jsx)(v.b,{to:"/blog",children:"BLOG"}),Object(l.jsx)(v.b,{to:"/petitions",children:"PETITIONS"}),Object(l.jsx)(v.b,{to:"/community",children:"COMMUNITY"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"FIND US:"})}),Object(l.jsxs)("div",{className:"social",children:[Object(l.jsx)("img",{src:Fe}),Object(l.jsx)("img",{src:Me}),Object(l.jsx)("img",{src:Le}),Object(l.jsx)("img",{src:ze})]}),Object(l.jsx)("p",{children:"REWILDING INTERNATIONAL 2021"})]})},qe={deleteComment:f.deleteComment,editComment:f.editComment},Ve=Object(u.b)(null,qe)((function(e){var t=e.comment,n=e.profilePicture,a=e.name,s=e.artId,r=e.commentId,o=e.userId,d=e.loggedUser,u=e.editComment,j=e.deleteComment,b=Object(c.useState)(!1),h=Object(i.a)(b,2),O=h[0],x=h[1],g=Object(c.useState)({}),f=Object(i.a)(g,2),v=f[0],N=f[1],y=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==v.editComment){e.next=4;break}return x(!O),e.abrupt("return",!1);case 4:return e.next=6,u(v);case 6:x(!O);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-2 text-center",children:[Object(l.jsx)("div",{className:"rounded-circle centerArticleImage mx-1",style:{backgroundImage:"url(".concat(n,")"),width:"5vw",height:"5vw"}}),Object(l.jsx)("p",{className:"nameArticleComment",children:a})]}),Object(l.jsxs)("div",{className:"col-9 d-flex justify-content-between",children:[Object(l.jsx)("div",{children:O?Object(l.jsxs)("div",{className:"editArticleCommentContainer",children:[Object(l.jsx)("input",{name:"editComment",type:"text",className:"editArticleComment",defaultValue:t,onChange:function(e){var t=e.target.name,n=e.target.value;N(Object(S.a)(Object(S.a)({},v),{},Object(T.a)({commentId:r,artId:s,token:d.token},t,n)))}}),Object(l.jsx)(ue.j,{onClick:y,style:{cursor:"pointer",height:"5vh",width:"2vw",marginTop:"4vh"}})]}):Object(l.jsx)("div",{className:"articleCommentContainer p-1 px-2",children:Object(l.jsx)("p",{className:"textArticleComment",children:t})})}),Object(l.jsx)("div",{children:d&&d.userId===o&&!O&&Object(l.jsxs)("div",{className:"commentArticleIcons",children:[Object(l.jsx)(ue.a,{className:"aiIcon delete",onClick:function(e){e.preventDefault(),j({artId:s,token:d.token,commentId:r})}}),Object(l.jsx)(ue.k,{className:"aiIcon edit",onClick:function(){return x(!O)}})]})})]})]})})})),We={commentArticle:f.commentArticle},He=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),We)((function(e){var t=Object(c.useState)({}),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),d=o[0],u=o[1],j=e.articlecomment;Object(c.useEffect)((function(){u(j)}),[j]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"commentsMapArticleContainer p-3",children:[Object(l.jsx)("div",{className:"commentsMap",children:d.map((function(t){var n=t.comment,c=t.profilePicture,a=t.name,s=t._id,r=t.userId;return Object(l.jsx)(Ve,{comment:n,profilePicture:c,name:a,artId:e.article._id,commentId:s,userId:r,loggedUser:e.loggedUser})}))}),Object(l.jsxs)("div",{className:"inputContainer",children:[Object(l.jsx)("input",{className:"inputContainer",type:"text",autoComplete:"off",name:"comment",placeholder:"Enter comment...",onChange:function(t){var n=t.target.name,c=t.target.value;s(Object(S.a)(Object(S.a)({},a),{},Object(T.a)({artId:e.article._id,token:e.loggedUser.token},n,c)))},disabled:!e.loggedUser}),Object(l.jsx)("div",{className:"sendButton",children:Object(l.jsx)(ue.j,{onClick:e.loggedUser?function(t){t.preventDefault(),e.commentArticle(a)}:function(){return alert("Log in...")},style:{cursor:"pointer"}})})]})]})})})),Ke=Object(u.b)((function(e){return{allArticles:e.articleR.allArticles}}))((function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=(n[0],n[1],Object(c.useState)({})),s=Object(i.a)(a,2),r=s[0],o=s[1],d=e.match.params.id,u=e.allArticles;return Object(c.useEffect)((function(){e.allArticles.length>0&&o(u.filter((function(e){return e._id===d})))}),[d,u]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"portadaArticle",children:Object(l.jsx)("div",{className:"portadaBanner",children:Object(l.jsx)("h3",{children:"At Rewilding there is a great job behind each campaign and we want to share it with you through this space."})})}),r.length>0&&r.map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"containerBanner",children:Object(l.jsx)("h2",{children:e.articleCategory})}),Object(l.jsx)("div",{className:"container-fluid bg-dark",children:Object(l.jsxs)("div",{className:"container articleContainer",children:[Object(l.jsx)("div",{className:"titleArticle",children:Object(l.jsx)("h1",{children:e.title})}),Object(l.jsx)("div",{className:"columnArticlePic",children:Object(l.jsxs)("div",{className:"containerArticlePic",children:[Object(l.jsx)("p",{className:"categoryBlog text-white",children:e.createdAt.slice(0,10)}),Object(l.jsx)("img",{src:e.picture,className:"picArticle"}),Object(l.jsxs)("div",{className:"authorContainerArticle",children:[Object(l.jsxs)("div",{className:"authorAlignArticle",children:[Object(l.jsx)("img",{src:e.author[0].profilePicture,className:"authorArticlePicture rounded-circle"}),Object(l.jsx)("p",{className:"authorArticleName",children:"Author: ".concat(e.author[0].name,".")}),Object(l.jsx)("p",{className:"articleVisits",children:"Visits: ".concat(e.visits)})]}),Object(l.jsx)(ee.b,{className:"commentIconArticle"})]})]})}),Object(l.jsxs)("div",{className:"articleDescription",children:[Object(l.jsx)("p",{className:"textArticleDescription",children:e.descripcion}),Object(l.jsx)("div",{className:"commentArticleContainerMain my-4",children:Object(l.jsx)("div",{children:Object(l.jsx)(He,{article:e,articlecomment:e.comments})})})]})]})})]})}))]})})),Je=function(e){var t=e.post;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"postContainer",children:[Object(l.jsx)("div",{className:"postHeader",children:Object(l.jsxs)("div",{className:"userCredentialsOnPost",children:[Object(l.jsx)("div",{style:{width:"50px",height:"50px",backgroundImage:"url(".concat(t.userPic,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"profilePictureOnPost"}),Object(l.jsx)("div",{className:"nameAndDate",children:Object(l.jsx)("div",{className:"postUsernameContainer",children:Object(l.jsx)("h5",{className:"postUsername",children:t.username})})})]})}),t.picture&&Object(l.jsx)("div",{className:"d-flex justify-content-center postPictureContainer",children:Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(t.picture,")"),width:"100%",height:"30rem",backgroundSize:"cover",backgroundPosition:"center"},className:"postPicture"})}),Object(l.jsx)("div",{className:"postTextContainer",children:Object(l.jsx)("h5",{className:"postText",children:t.text})})]})})},Xe=function(e){var t=e.petition,n=t.author,c=t.goal,a=t.picture,s=t.title,r=t.votes;return Object(l.jsxs)("div",{className:"lastPetitionsContainerProfile",children:[Object(l.jsx)("img",{className:"lastPetitionImg",src:a,alt:"petition-pic"}),Object(l.jsxs)("div",{className:"lastPetitionsInfo",children:[Object(l.jsxs)("div",{className:"userInfo",children:[Object(l.jsxs)("h6",{className:"petitionCreatedBy",children:[Object(l.jsx)("span",{children:"Petition created by: "}),n[0].name]}),Object(l.jsx)("img",{className:"lastPetitionUserImg",src:n[0].profilePicture,alt:"petition-pic"})]}),Object(l.jsx)("h5",{className:"lastPetitionsTitle",children:s.toUpperCase()}),Object(l.jsx)(C.a,{striped:!0,variant:"success",animated:!0,now:45}),Object(l.jsxs)("h6",{className:"peopleSign",children:[Object(l.jsxs)("span",{children:[r.length," people have signed"]})," a goal ",c," signs ",Object(l.jsx)(P.b,{})]})]})]})},Qe={getUsersById:{getUsersById:function(e){return function(){var t=Object(m.a)(p.a.mark((function t(n,c){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat(O,"/profile/").concat(e));case 3:a=t.sent,n({type:"GET_PROFILE",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}}.getUsersById,getPetitions:k.getPetitions},Ze=Object(u.b)((function(e){return{profileUser:e.profileR.profileUser,petitions:e.petitionsR.allPetitions,posts:e.postR.allPosts}}),Qe)((function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),d=o[0],u=o[1],j=Object(c.useState)(!0),b=Object(i.a)(j,2),h=b[0],O=b[1],x=e.profileUser,g=x.lastName,f=x.name,v=x.profilePicture;function N(){return(N=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsersById(e.match.params.id);case 2:return t.next=4,e.getPetitions();case 4:O(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){N.apply(this,arguments)}(),s(e.petitions.filter((function(t){return t.author[0].idUser===e.match.params.id}))),u(e.posts.filter((function(t){return t.userId===e.match.params.id})))}),[e.match.params.id]),Object(l.jsx)(l.Fragment,{children:h?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"profilebanner mb-5",children:Object(l.jsxs)("div",{className:"container d-flex flex-column align-items-center margin-negativo",children:[Object(l.jsx)("div",{className:"profileInfoImg rounded-circle",style:{backgroundImage:"url(".concat(v,")")}}),Object(l.jsxs)("div",{className:"h1",children:[f," ",g]})]})}),Object(l.jsx)("div",{className:"container mt-5 p-5",children:Object(l.jsxs)("div",{className:"row p-5",children:[d.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Posts"})}),d.map((function(e){return Object(l.jsx)("div",{className:"col-12 text-center",children:Object(l.jsx)(Je,{post:e})})}))]}):Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Not Posts"})}),a.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Petitions"})}),a.map((function(e){return Object(l.jsx)("div",{className:"col-12 text-center",children:Object(l.jsx)(Xe,{petition:e})})}))]}):Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Not Petitions"})})]})})]})})})),$e=n(56),et=n(57),tt=n(60),nt=n(59),ct=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object($e.a)(this,n),t.apply(this,arguments)}return Object(et.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(a.a.Component),at=Object(J.h)(ct),st={recoverPassword:de.recoverPassword},rt=Object(u.b)((function(e){return{oneUser:e.authR.oneUser}}),st)((function(e){var t=Object(c.useState)({}),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)({}),o=Object(i.a)(r,2),d=o[0],u=o[1],j=e.oneUser;Object(c.useEffect)((function(){u(j)}),[j]);return Object(l.jsx)("div",{style:{width:"100",height:"50vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:d.name?Object(l.jsxs)("p",{children:[d.name," te enviamos un mail"]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Recover password"}),Object(l.jsx)("input",{name:"email",type:"email",placeholder:"Enter your email",onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(S.a)(Object(S.a)({},a),{},Object(T.a)({},n,c)))}}),Object(l.jsx)("button",{onClick:function(t){t.preventDefault(),e.recoverPassword(a)},children:"Send"})]})})})),it={logFromLS:D.logFromLS},ot=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),it)((function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1];if(e.loggedUser)if("admin"===e.loggedUser.rol)var r=Object(l.jsxs)(J.d,{children:[Object(l.jsx)(J.b,{exact:!0,path:"/",component:A}),Object(l.jsx)(J.b,{exact:!0,path:"/petitions",component:K}),Object(l.jsx)(J.b,{path:"/createPetition",component:Z}),Object(l.jsx)(J.b,{exact:!0,path:"/blog",component:le}),Object(l.jsx)(J.b,{path:"/article/:id",component:Ke}),Object(l.jsx)(J.b,{exact:!0,path:"/adminBlog",component:re}),Object(l.jsx)(J.b,{path:"/petitions/:id",component:xe}),Object(l.jsx)(J.b,{path:"/community",component:Te}),Object(l.jsx)(J.b,{path:"/profile/:id",component:Ze}),Object(l.jsx)(J.a,{to:"/"})]});else r=Object(l.jsxs)(J.d,{children:[Object(l.jsx)(J.b,{exact:!0,path:"/",component:A}),Object(l.jsx)(J.b,{exact:!0,path:"/petitions",component:K}),Object(l.jsx)(J.b,{path:"/createPetition",component:Z}),Object(l.jsx)(J.b,{exact:!0,path:"/blog",component:le}),Object(l.jsx)(J.b,{path:"/article/:id",component:Ke}),Object(l.jsx)(J.b,{path:"/petitions/:id",component:xe}),Object(l.jsx)(J.b,{path:"/community",component:Te}),Object(l.jsx)(J.b,{path:"/profile/:id",component:Ze}),Object(l.jsx)(J.a,{to:"/"})]});else if(localStorage.getItem("token"))e.logFromLS(localStorage.getItem("token")).then((function(e){"/"===e&&s(!a)}));else r=Object(l.jsxs)(J.d,{children:[Object(l.jsx)(J.b,{exact:!0,path:"/",component:A}),Object(l.jsx)(J.b,{path:"/login",component:Y}),Object(l.jsx)(J.b,{exact:!0,path:"/petitions",component:K}),Object(l.jsx)(J.b,{path:"/blog",component:le}),Object(l.jsx)(J.b,{path:"/article/:id",component:Ke}),Object(l.jsx)(J.b,{path:"/petitions/:id",component:xe}),Object(l.jsx)(J.b,{path:"/community",component:Te}),Object(l.jsx)(J.b,{path:"/profile/:id",component:Ze}),Object(l.jsx)(J.b,{path:"/password",component:rt}),Object(l.jsx)(J.a,{to:"/"})]});return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v.a,{children:Object(l.jsxs)(at,{children:[Object(l.jsx)(Be,{}),r,Object(l.jsx)(Ye,{})]})})})})),lt=n(26),dt=n(58),ut={loggedUser:null,countries:[],oneUser:{}};var jt={allPetitions:[],lastPetitions:[]},pt={allArticles:[],articlePort:[],singleArticle:[],articlePortMini:[],articlesList:[],articleCategories:["Respect for animals","Biodiversity","DANGER OF EXTINCTION","Animals in the wild","Ecology"],lastArticles:[]};var mt={allPosts:[]},bt={profileUser:[]};var ht=Object(lt.c)({authR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("name",t.payload.response.name),localStorage.setItem("profilePicture",t.payload.response.profilePicture),localStorage.setItem("token",t.payload.response.token),localStorage.setItem("username",t.payload.response.username),localStorage.setItem("rol",t.payload.response.rol),localStorage.setItem("userId",t.payload.response.userId),Object(S.a)(Object(S.a)({},e),{},{loggedUser:t.payload.response});case"LOG_OUT_USER":return localStorage.clear(),Object(S.a)(Object(S.a)({},e),{},{loggedUser:null});case"GET_COUNTRIES":return Object(S.a)(Object(S.a)({},e),{},{countries:t.payload.data});case"PASSWORD":return Object(S.a)(Object(S.a)({},e),{},{oneUser:t.payload});default:return e}},petitionsR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PETITIONS":return Object(S.a)(Object(S.a)({},e),{},{allPetitions:t.payload,lastPetitions:t.payload.slice(t.payload.length-3,t.payload.length)});case"UPDATE_PETITION":case"LIKE":case"DISLIKE":case"DELETE_REASON":case"MODIFY_REASON":return Object(S.a)(Object(S.a)({},e),{},{allPetitions:e.allPetitions.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},articleR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ARTICLE":return Object(S.a)(Object(S.a)({},e),{},{allArticles:e.allArticles.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"GET_ARTICLES":return Object(S.a)(Object(S.a)({},e),{},{allArticles:t.payload,articlePort:t.payload.slice(t.payload.length-1,t.payload.length),articlePortMini:t.payload.slice(t.payload.length-2,t.payload.length-1),articlesList:t.payload.slice(0,t.payload.length-2),lastArticles:t.payload.slice(t.payload.length-8,t.payload.length)});case"UPDATE_ARTICLE":case"COMMENT_ARTICLE":case"DELETE_COMMENT":case"EDIT_COMMENT":return Object(S.a)(Object(S.a)({},e),{},{allArticles:e.allArticles.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},postR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POSTS":return Object(S.a)(Object(S.a)({},e),{},{allPosts:t.payload});case"ADD_POST":return Object(S.a)(Object(S.a)({},e),{},{allPosts:e.allPosts.concat(t.payload)});case"UPDATE_POST":return Object(S.a)(Object(S.a)({},e),{},{allPosts:e.allPosts.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},profileR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return Object(S.a)(Object(S.a)({},e),{},{profileUser:t.payload});default:return e}}}),Ot=Object(lt.d)(ht,Object(lt.a)(dt.a));r.a.render(Object(l.jsx)(u.a,{store:Ot,children:Object(l.jsx)(ot,{})}),document.getElementById("root"))},28:function(e,t,n){},91:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.7cc71d22.chunk.js.map