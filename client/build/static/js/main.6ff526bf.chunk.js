(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(29),i=n.n(s),r=n(6),o=n.p+"static/media/tiger.febbf3ac.png",l=n(1),d=function(){return Object(l.jsx)("div",{className:"containerMain",style:{backgroundImage:"url(".concat(o,")")},children:Object(l.jsxs)("div",{className:"sloganBanner",children:[Object(l.jsx)("h1",{className:"mainTitle",children:"R  E  W  I  L  D  I  N  G"}),Object(l.jsx)("h2",{children:"Be part of the change"})]})})},u=n(9),j=n(3),m=n.n(j),p=n(7),b=n(12),h=n.n(b),O="https://rewilding.herokuapp.com/api",x=n(5),g=n.n(x),f={newArticle:function(e,t,n){return console.log(e),function(){var c=Object(p.a)(m.a.mark((function c(a,s){var i,r;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,(i=new FormData).append("title",e.title),i.append("descripcion",e.descripcion),i.append("articleCategory",e.articleCategory),i.append("file",t.result),c.next=8,h.a.post("".concat(O,"/blog"),i,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/formdata"}});case 8:if((r=c.sent).data.success){c.next=11;break}return c.abrupt("return",r.data);case 11:a({type:"ADD_ARTICLE",payload:r.data.response}),console.log(r),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),g.a.fire(c.t0);case 18:case"end":return c.stop()}}),c,null,[[0,15]])})));return function(e,t){return c.apply(this,arguments)}}()},getArticles:function(){try{return function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(O,"/blog"));case 2:c=e.sent,t({type:"GET_ARTICLES",payload:c.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(e){g.a.fire(e)}},editArticle:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.put("".concat(O,"/blog"),{article:e});case 3:a=t.sent,n({type:"UPDATE_ARTICLE",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},deleteArticle:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.put("".concat(O,"/blog/delete"),{id:e});case 2:a=t.sent,n({type:"DELETE_ARTICLE",payload:a.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},commentArticle:function(e){var t=e.comment,n=e.token,c=e.artId;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(O,"/article/comment"),{comment:t,artId:c},{headers:{Authorization:"Bearer ".concat(n)}});case 3:i=e.sent,a({type:"COMMENT_ARTICLE",payload:i.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},deleteComment:function(e){var t=e.artId,n=e.token,c=e.commentId;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("".concat(O,"/article/comment/").concat(t,"/").concat(c),{headers:{Authorization:"Bearer ".concat(n)}});case 3:i=e.sent,a({type:"DELETE_COMMENT",payload:i.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},editComment:function(e){var t=e.commentId,n=e.artId,c=e.editComment,a=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(s,i){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("".concat(O,"/article/comment"),{artId:n,commentId:t,editComment:c},{headers:{Authorization:"Bearer ".concat(a)}});case 3:r=e.sent,s({type:"EDIT_COMMENT",payload:r.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},addVisit:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/articles/visits"),{artId:e});case 3:a=t.sent,n({type:"ADD_BLOG",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},v=n(8),N={sendAddVisit:f.addVisit},y=Object(u.b)(null,N)((function(e){var t=e.lastArticle,n=t.articleCategory,c=(t.articleLikes,t.author),a=(t.comments,t.createdAt),s=(t.descripcion,t.picture),i=t.title,r=(t.updatedAt,t.visits,t._id);return Object(l.jsx)(v.b,{onClick:function(t){e.sendAddVisit(t.target.id)},to:"/article/".concat(r),id:r,className:"lastArticlesCard text-decoration-none",style:{backgroundImage:"url(".concat(s,")")},children:Object(l.jsxs)("div",{style:{width:"100%"},children:[Object(l.jsxs)("p",{className:"articleDate",children:[a.slice(0,10)," | ",n]}),Object(l.jsx)("h5",{className:"lastArticleTitle",children:i.slice(0,50)+"..."}),Object(l.jsx)("div",{className:"lastArticlesInfo",children:Object(l.jsxs)("p",{className:"lastArticleAuthor",children:[Object(l.jsx)("span",{children:"By:"})," "+c[0].name]})})]})})})),k={getPetitions:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(O,"/petitions"));case 3:c=e.sent,t({type:"ALL_PETITIONS",payload:c.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},addVisit:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/petitions/visits"),{petId:e});case 3:a=t.sent,n({type:"ADD_PETITIONS",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},signPetition:function(e){try{return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("".concat(O,"/signPetition"),{userSign:e},{headers:{Authorization:"Bearer ".concat(e.token)}});case 2:a=t.sent,n({type:"UPDATE_PETITION",payload:a.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}catch(t){g.a.fire(t)}},addPetition:function(e,t){try{var n=e.limitDate,c=e.description,a=e.title,s=e.destination,i=e.token,r=e.goal,o=new FormData;return o.append("title",a),o.append("limitDate",n),o.append("description",c),o.append("destination",s),o.append("goal",r),o.append("petitionPicture",t.result.name),o.append("file",t.result),function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/petitions"),o,{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"multipart/formdata"}});case 2:c=e.sent,t({type:"SEND_PETITION",payload:c.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(l){g.a.fire(l)}}},C=n(22),P=n(113),I=function(e){var t=e.lastPetition,n=t.author,c=(t.createdAt,t.desc,t.destination,t.goal),a=(t.limitDate,t.picture),s=(t.reasons,t.signatures),i=t.title;t.updatedAt,t.visits,t.votes;return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"lastPetitionsContainer",children:[Object(l.jsx)("div",{className:"lastPetitionImgPetitionCard",style:{backgroundImage:"url(".concat(a,")")}}),Object(l.jsxs)("div",{className:"lastPetitionsInfo",children:[Object(l.jsxs)("div",{className:"userInfo",children:[Object(l.jsxs)("h6",{className:"petitionCreatedBy",children:[Object(l.jsx)("span",{children:"Petition created by: "}),n[0].name]}),Object(l.jsx)("div",{className:"petitionCreatedImg",style:{backgroundImage:"url(".concat(n[0].profilePicture,")")}})]}),Object(l.jsx)("h5",{className:"lastPetitionsTitle",children:i.toUpperCase()}),Object(l.jsx)(P.a,{striped:!0,variant:"success",animated:!0,now:s.length,max:c}),Object(l.jsxs)("h6",{className:"peopleSign",children:[Object(l.jsx)("span",{children:s.length?1===s.length?s.length+" person has already signed this petition":s.length+" persons have already signed this petition":"No one has signed this petition yet"})," ","a goal ",c," signs ",Object(l.jsx)(C.b,{})]})]})]})})},w=n.p+"static/media/twitter.657be530.png",A=n.p+"static/media/facebook.7bea9971.png",T=n.p+"static/media/instagram.da241ea3.png",S=n.p+"static/media/youtube.190b36a8.png",E=n.p+"static/media/reLogo.b907dd2c.png",U=function(){return Object(l.jsxs)("div",{className:"footerDiv",children:[Object(l.jsx)("div",{className:"logoRew",children:Object(l.jsx)("img",{src:E})}),Object(l.jsxs)("div",{className:"listNav",children:[Object(l.jsx)(v.b,{to:"/",children:"HOME"}),Object(l.jsx)(v.b,{to:"/community",children:"COMMUNITY"}),Object(l.jsx)(v.b,{to:"/petitions",children:"PETITIONS"}),Object(l.jsx)(v.b,{to:"/blog",children:"BLOG"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"FIND US:"})}),Object(l.jsxs)("div",{className:"social",children:[Object(l.jsx)("img",{src:A}),Object(l.jsx)("img",{src:T}),Object(l.jsx)("img",{src:w}),Object(l.jsx)("img",{src:S})]}),Object(l.jsx)("p",{children:"REWILDING INTERNATIONAL 2021"})]})},R={getArticles:f.getArticles,getPetitions:k.getPetitions},D=Object(u.b)((function(e){return{lastArticles:e.articleR.lastArticles,lastPetitions:e.petitionsR.lastPetitions}}),R)((function(e){return Object(c.useEffect)((function(){e.getArticles(),e.getPetitions()}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)("div",{className:"containerHome",children:[Object(l.jsx)("div",{className:"containerBanner",children:Object(l.jsx)("h2",{children:"CONTRIBUTE ON CAUSES BY SIGNING PETITIONS, WE NEED YOU TO BE PART."})}),Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Last Articles Created"})}),Object(l.jsxs)("div",{className:"divBlog",children:[e.lastArticles.map((function(e){return Object(l.jsx)(y,{lastArticle:e},e._id)})).reverse(),Object(l.jsx)("div",{className:"lastPetitionsCreated",children:Object(l.jsx)("h2",{children:"Last Petitions Created"})}),e.lastPetitions.map((function(e){return Object(l.jsx)(v.b,{to:"/petitions/".concat(e._id),style:{textDecoration:"none"},children:Object(l.jsx)(I,{lastPetition:e},e._id)})})).reverse(),Object(l.jsx)("div",{className:"white"})]})]}),Object(l.jsx)(U,{})]})})),B=n(14),_=n(4),L=n(33),F=n.n(L),M={newUser:function(e,t){return function(){var n=Object(p.a)(m.a.mark((function n(c,a){var s,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e,t),n.prev=1,(s=new FormData).append("name",e.name),s.append("lastName",e.lastName),s.append("username",e.username),s.append("password",e.password),s.append("file",t.result),n.next=10,h.a.post("".concat(O,"/user/signup"),s,{headers:{"Content-Type":"multipart/formdata"}});case 10:if((i=n.sent).data.success){n.next=13;break}return n.abrupt("return",i.data);case 13:console.log(i),c({type:"LOG_USER",payload:i.data}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(1),g.a.fire(n.t0);case 20:case"end":return n.stop()}}),n,null,[[1,17]])})));return function(e,t){return n.apply(this,arguments)}}()},loginWithGoogle:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/user/sign_google"),e);case 3:if((a=t.sent).data.success){t.next=9;break}return console.log(a),t.abrupt("return",!1);case 9:console.log(a);case 10:n({type:"LOG_USER",payload:a.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),g.a.fire(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()},loginUser:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/user/signin"),e);case 3:if((a=t.sent).data.success){t.next=6;break}return t.abrupt("return",a.data);case 6:n({type:"LOG_USER",payload:a.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g.a.fire(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},logoutUser:function(){return function(e,t){try{e({type:"LOG_OUT_USER"})}catch(n){g.a.fire(n)}}},logFromLS:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(O,"/user/ls"),{token:e},{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,n({type:"LOG_USER",payload:{response:Object(_.a)({},a.data.response)}}),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),alert("Access denied"),localStorage.clear(),t.abrupt("return","/");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},z={loginWithGoogle:M.loginWithGoogle,loginUser:M.loginUser},G=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),z)((function(e){Object(c.useEffect)((function(){}));var t=function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loginWithGoogle(n.profileObj);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=Object(c.useState)({username:"",password:""}),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)([]),d=Object(r.a)(o,2),u=(d[0],d[1]),j=function(e){var t=e.target,n=t.name,c=t.value;i(Object(_.a)(Object(_.a)({},s),{},Object(B.a)({},n,c)))},b=function(){var t=Object(p.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s.username&&""!==s.password){t.next=4;break}return alert("all fields are required!"),t.abrupt("return",!1);case 4:return u([]),t.next=7,e.loginUser(s);case 7:(c=t.sent)&&!c.success&&u([c.mensaje]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"loginDiv",children:[Object(l.jsx)("h1",{children:"LOGIN"}),Object(l.jsx)(F.a,{className:"login_input justify-content-center",clientId:"70385013439-d765viglf0jv9tq89u53csihoja864u0.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{children:"Or"}),Object(l.jsx)("span",{className:"line mx-auto"})]}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Your email address",className:"admin_input",name:"username",onChange:function(e){return j(e)}}),Object(l.jsx)("input",{type:"password",placeholder:"Password",className:"admin_input",name:"password",onChange:function(e){return j(e)}}),Object(l.jsx)("p",{onClick:function(e){alert("forgotPassword")},className:"forgotPass",children:"I forgot my password"}),Object(l.jsx)("button",{onClick:b,className:"btnLog",children:"Login"}),Object(l.jsx)("p",{children:"* By entering with Google you are agreeing to receive offers by email"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{children:"You do not have an account?"}),Object(l.jsx)("span",{className:"line mx-auto"})]})]})})),Y=n(23),W=n.n(Y),q={newUser:M.newUser,loginWithGoogle:M.loginWithGoogle},V=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),q)((function(e){var t=function(t){e.loginWithGoogle(t.profileObj)};Object(c.useEffect)((function(){}));var n=Object(c.useState)({name:"",lastName:"",username:"",password:""}),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)([]),d=Object(r.a)(o,2),u=d[0],j=d[1],b=function(e){var t=e.target,n=t.name,c=t.value;i(Object(_.a)(Object(_.a)({},s),{},Object(B.a)({},n,c)))},h=Object(c.useState)("/assets/user.png"),O=Object(r.a)(h,2),x=O[0],f=O[1],v=Object(c.useState)(),N=Object(r.a)(v,2),y=N[0],k=N[1],C=function(e,t,n){g.a.fire({icon:e,title:t,text:n,confirmButtonText:"Ok"})},P=function(){var t=Object(p.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s.name&&""!==s.lastName&&""!==s.username&&""!==s.password){t.next=6;break}return C("error","Fill in all fields"),t.abrupt("return",!1);case 6:if(void 0!==y){t.next=9;break}return C("error","Select a Profile Picture"),t.abrupt("return",!1);case 9:return j([]),t.next=12,e.newUser(s,y);case 12:(c=t.sent)&&!c.success?j(c.errores):C("success","You have Registered in Rewilding!");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"registerDiv",children:[Object(l.jsx)("h1",{children:"REGISTER"}),Object(l.jsx)(F.a,{className:"login_input justify-content-center",clientId:"70385013439-d765viglf0jv9tq89u53csihoja864u0.apps.googleusercontent.com",buttonText:"Register with Google",onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{className:"text",children:"Or register with your email"}),Object(l.jsx)("span",{className:"line mx-auto"})]}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Name",name:"name",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){if("name"===e.path[0])return Object(l.jsx)("p",{children:"The Name must be at least 4 characters up to 15 characters"})}))}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Last Name",name:"lastName",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){if("lastName"===e.path[0])return Object(l.jsx)("p",{children:"The Name must be at least 2 characters up to 20 characters"})}))}),Object(l.jsx)("input",{type:"text",autoComplete:"nope",placeholder:"Your email address",name:"username",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){var t=e.path;return"username"===t[0]?Object(l.jsx)("p",{children:"Enter a valid email address"}):"usernameExist"===t[0]?Object(l.jsx)("p",{children:"The email is already in use. Choose another."}):void 0}))}),Object(l.jsx)("input",{type:"password",placeholder:"Password for Rewilding",name:"password",onChange:function(e){return b(e)},className:"admin_input",required:!0}),Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("p",{children:"The password must be 6-8 characters long."})}),Object(l.jsx)("div",{className:"errores",children:u&&u.map((function(e){if("password"===e.path[0])return Object(l.jsx)("p",{children:"Enter a Valid Password"})}))}),Object(l.jsx)("label",{htmlFor:"profile-pic",className:"label_input_file",children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-center",style:{display:"flex",alignItems:"center"},children:[Object(l.jsx)("p",{children:"Select your Profile picture"}),Object(l.jsx)("img",{className:"img-fluid profile-pic-register",src:x,alt:"profile-pic",style:{width:"20vw"}})]})}),Object(l.jsx)("input",{type:"file",id:"profile-pic",className:"admin_input input-file",name:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new W.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){f(t.result)}}});k(n)}else C("error","Something went wrong!","Files must be of an image type")}},required:!0}),Object(l.jsx)("button",{type:"submit",onClick:P,className:"btnLog",children:"Register"}),Object(l.jsx)("p",{children:"* By entering with Google you are agreeing to receive offers by email"}),Object(l.jsxs)("div",{className:"separator-line",children:[Object(l.jsx)("span",{children:"Do you already have an account?"}),Object(l.jsx)("span",{className:"line mx-auto"})]})]})})})),H=n.p+"static/media/bannerLog.c3199c48.png",K=n.p+"static/media/arrow1.6858f2e3.png",J=function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"logInBanner",style:{backgroundImage:"url(".concat(H,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"container col-8 my-5 containerLog",children:[Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsxs)("div",{className:"col-8 text-center",children:[n?Object(l.jsx)(G,{}):Object(l.jsx)(V,{}),Object(l.jsx)("button",{onClick:function(){a(!n)},className:"btnReg",children:n?"Register":"Login"})]})}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-8 text-center textLog",children:Object(l.jsx)("p",{className:"h6",children:"By registering you are accepting our Terms and Conditions and our Privacy Policies"})})}),Object(l.jsxs)(v.b,{to:"/",style:{marginBottom:"2vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)("img",{src:K,style:{width:"30px"}}),Object(l.jsx)("p",{children:"Return Home"})]})]}),Object(l.jsx)("div",{className:"white"})]})},X=(n(91),{addVisit:k.addVisit}),Q=Object(u.b)(null,X)((function(e){var t=e.petition,n=t.author,c=(t.createdAt,t.desc,t.destination,t.goal),a=(t.limitDate,t.picture),s=(t.reasons,t.signatures),i=t.title;t.updatedAt,t.visits,t.votes;return Object(l.jsx)(v.b,{to:"/petitions/".concat(e.petition._id),onClick:function(t){var n=e.petition._id;e.addVisit(n)},className:"text-decoration-none",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"lastPetitionsContainer",children:[Object(l.jsx)("div",{className:"lastPetitionImgPetitionCard",style:{backgroundImage:"url(".concat(a,")"),height:"auto"}}),Object(l.jsxs)("div",{className:"lastPetitionsInfo",children:[Object(l.jsxs)("div",{className:"userInfo",children:[Object(l.jsxs)("h6",{className:"petitionCreatedBy",children:[Object(l.jsx)("span",{children:"Petition created by: "}),n[0].name]}),Object(l.jsx)("div",{className:"petitionCreatedImg",style:{backgroundImage:"url(".concat(n[0].profilePicture,")")}})]}),Object(l.jsx)("h5",{className:"lastPetitionsTitle",children:i.toUpperCase()}),Object(l.jsx)("p",{children:e.petition.desc.length>100?e.petition.desc.slice(0,70)+"...":e.petition.desc}),Object(l.jsx)(P.a,{striped:!0,variant:"success",animated:!0,now:s.length,max:c,className:"progressBar",style:{marginBottom:"2vh"}}),s.length===c?Object(l.jsx)("div",{className:"completedCardCtn",children:Object(l.jsx)("h5",{className:"cardGoalReached",children:"COMPLETED"})}):"",Object(l.jsxs)("h6",{className:"peopleSign",children:[Object(l.jsx)("span",{children:e.petition.signatures.length?1===e.petition.signatures.length?e.petition.signatures.length+" person has already signed this petition":e.petition.signatures.length+" persons have already signed this petition":"No one has signed this petition yet"})," ","for a goal of ",c," signs ",Object(l.jsx)(C.b,{})]})]})]})})})})),Z=n.p+"static/media/petitionsImg.0120861e.png",$={getPetitions:k.getPetitions,addVisit:k.addVisit},ee=Object(u.b)((function(e){return{allPetitions:e.petitionsR.allPetitions}}),$)((function(e){var t=Object(c.useState)(!0),n=Object(r.a)(t,2),a=n[0],s=n[1];function i(){return(i=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPetitions();case 2:s(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"petitionBanner",style:{backgroundImage:"url(".concat(Z,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"petitionContainer",children:[Object(l.jsx)("h1",{className:"petitionsPageTitle",children:Object(l.jsx)("span",{children:"PETITIONS"})}),e.allPetitions.map((function(e){return Object(l.jsx)(Q,{petition:e},e._id)}))]}),Object(l.jsx)(U,{})]})})})),te=n(16),ne=n.p+"static/media/createPetitionImg.23334382.png",ce={addPetition:k.addPetition},ae=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),ce)((function(e){var t=Object(c.useState)({}),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)("/assets/upload.png"),o=Object(r.a)(i,2),d=o[0],u=o[1],j=Object(c.useState)(),m=Object(r.a)(j,2),p=m[0],b=m[1],h=function(e,t,n){g.a.fire({icon:e,title:t,text:n,confirmButtonText:"Ok"})},O=new Date;O.setHours(0,0,0,0);var x=function(t){var n,c=t.target.name,i=t.target.value;s(Object(_.a)(Object(_.a)({},a),{},(n={},Object(B.a)(n,c,i),Object(B.a)(n,"token",e.loggedUser.token),n)))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"createPetitionBanner",style:{backgroundImage:"url(".concat(ne,")"),backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsx)("div",{className:"container my-4 ",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col col-sm-8 col-md-6 col-lg-6 mx-auto",children:[Object(l.jsx)("h2",{className:"text-center",style:{paddingTop:"2vh"},children:"CREATE PETITION"}),Object(l.jsxs)("div",{className:"createPetition text-center mt-4",children:[Object(l.jsx)("h5",{children:"Write down the title of your petition"}),Object(l.jsx)("span",{className:"h6",children:"It should be something meaningful"}),Object(l.jsx)("input",{autoComplete:"off",name:"title",type:"text",placeholder:"What are you looking to achieve?",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center mt-4",children:[Object(l.jsx)("h5",{children:"Who is it for?"}),Object(l.jsx)("span",{className:"h6",children:"Who can change this?"}),Object(l.jsx)("input",{autoComplete:"off",name:"destination",type:"text",placeholder:"Destination of your petition",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center mt-4",children:[Object(l.jsx)("h5",{children:"Choose a limit date for your petition"}),Object(l.jsx)("span",{className:"h6",children:"Final date"}),Object(l.jsx)("input",{name:"limitDate",type:"date",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center mt-4",children:[Object(l.jsx)("h5",{children:"Choose a goal for your petition"}),Object(l.jsx)("span",{className:"h6",children:"Signature limit"}),Object(l.jsx)("input",{placeholder:"10",minLength:"2",min:"10",name:"goal",type:"number",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center mt-4",children:[Object(l.jsx)("h5",{children:"Explain why you want to change it"}),Object(l.jsx)("span",{className:"h6",children:"It should be something meaningful"}),Object(l.jsx)("textarea",{name:"description",onChange:x})]}),Object(l.jsxs)("div",{className:"createPetition text-center mt-4",children:[Object(l.jsx)("h5",{children:"Upload a picture for your petition"}),Object(l.jsx)("span",{className:"h6 mb-5",children:"Make it a high res one"}),Object(l.jsxs)("label",{htmlFor:"inputUpload",children:[Object(l.jsx)("img",{style:{margin:"0"},className:"img-fluid profile-pic-profile-submit",src:d,alt:"petition-pic"}),Object(l.jsx)("h6",{className:"my-3",children:"Click in the reference image to upload your picture!"})]}),Object(l.jsx)("input",{id:"inputUpload",name:"picture",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new W.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){u(t.result)}}});b(n)}else h("error","Something went wrong")}else h("error","Petition must have a picture")}})]}),Object(l.jsx)("div",{className:"createPetitionButton d-flex justify-content-center my-4",children:Object(l.jsx)("button",{onClick:function(t){if(t.preventDefault(),void 0===a.length&&void 0===p)return h("error","All fields are required"),!1;if(!a.goal||!a.description||!a.destination||!a.limitDate||!a.title)return h("error","All fields are required"),!1;if(a.goal<10)return h("error","The signature goal must be greater than 10"),!1;var n=a.limitDate,c=new Date(n);if(c.setHours(0,0,0,0),O.getTime()+25e8>c.getTime())return h("error","The date should not be less than 30 days from the moment of creation"),!1;e.addPetition(a,p),e.history.push("/petitions")},children:"Send Petition"})})]})})}),Object(l.jsx)(U,{})]})})),se=n(0),ie=n(25),re={editArticle:f.editArticle,getArticles:f.getArticles,deleteArticle:f.deleteArticle},oe=Object(u.b)((function(e){return{articles:e.articleR.articles,articleCategories:e.articleR.articleCategories}}),re)((function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)("/assets/losago.png"),o=Object(r.a)(i,2),d=(o[0],o[1],function(){var t=Object(p.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.article._id,t.next=4,e.deleteArticle(c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u=Object(c.useState)({_id:e.article._id,title:e.article.title,descripcion:e.article.descripcion,articleCategory:e.article.articleCategory}),j=Object(r.a)(u,2),b=j[0],h=j[1],O=function(e){var t=e.target,n=t.name,c=t.value;h(Object(_.a)(Object(_.a)({},b),{},Object(B.a)({},n,c)))},x=function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s(!a),t.next=4,e.editArticle(b);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"text",onChange:O,name:"title",defaultValue:e.article.title})}),Object(l.jsx)("td",{children:Object(l.jsxs)("select",{name:"articleCategory",onChange:O,children:[Object(l.jsx)("option",{value:"",selected:!0,children:"Select a Category"}),e.articleCategories.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))]})}),Object(l.jsx)("td",{children:Object(l.jsx)("textarea",{name:"descripcion",onChange:O,cols:"55",rows:"12",defaultValue:e.article.descripcion,required:!0})}),Object(l.jsx)("td",{children:Object(l.jsx)(se.b.Provider,{value:{size:"3em"},children:Object(l.jsx)(ie.d,{onClick:function(e){return x(e)}})})}),Object(l.jsx)("td",{children:Object(l.jsx)(se.b.Provider,{value:{size:"3em"},children:Object(l.jsx)(ie.a,{type:"submit",onClick:function(){return s(!a)}})})})]})}):Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.article.title}),Object(l.jsxs)("td",{children:[e.article.articleCategory," "]}),Object(l.jsx)("td",{children:e.article.descripcion.slice(0,100)+"..."}),Object(l.jsx)("td",{children:Object(l.jsx)(ie.c,{onClick:function(){return s(!a)}})}),Object(l.jsx)("td",{children:Object(l.jsx)(ie.e,{onClick:function(e){return d(e)}})})]})})})),le=n(53),de=n.p+"static/media/rewildingBanner.9dc11a19.png",ue={newArticle:f.newArticle,getArticles:f.getArticles},je=Object(u.b)((function(e){return{articles:e.articleR.allArticles,articleCategories:e.articleR.articleCategories}}),ue)((function(e){var t=Object(c.useState)({title:"",descripcion:"",articleCategory:""}),n=Object(r.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){e.getArticles()}),[e.articles]);var i=function(e){var t=e.target,n=t.name,c=t.value;s(Object(_.a)(Object(_.a)({},a),{},Object(B.a)({},n,c)))},o=function(){var t=Object(p.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a.title,a.articleCategory,""!==a.descripcion){t.next=4;break}return alert("All fields are required"),t.abrupt("return",!1);case 4:return c=localStorage.getItem("token"),t.next=7,e.newArticle(a,x,c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=Object(c.useState)("/assets/losago.png"),u=Object(r.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(),O=Object(r.a)(h,2),x=O[0],f=O[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"communityBanner",style:{backgroundImage:"url(".concat(de,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"bg-dark topSectionAdmin",children:[Object(l.jsx)("div",{className:"sectionAdminBlog",children:Object(l.jsx)("h2",{className:"whiteAdminText",children:"Blog add Articles"})}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsx)("input",{className:"adminInputs",type:"text",onChange:i,name:"title",placeholder:"Put your title for this article"})}),Object(l.jsx)("label",{htmlFor:"signature-pic",className:"label_input_file",children:Object(l.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(l.jsx)("p",{className:"whiteAdminText",children:"Select your picture"}),Object(l.jsx)("img",{className:"",src:j,alt:"logo"})]})}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsxs)("select",{name:"articleCategory",onChange:i,children:[Object(l.jsx)("option",{value:"",selected:!0,hidden:!0,children:"Select a Category"}),e.articleCategories.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))]})}),Object(l.jsx)("input",{type:"file",id:"signature-pic",className:"admin_input input-file",name:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new W.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){b(t.result)}}});f(n)}else c="error",a="Something went wrong!",s="Files must be of an image type",g.a.fire({icon:c,title:a,text:s,confirmButtonText:"Ok"})}var c,a,s},required:!0}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsx)("textarea",{name:"descripcion",onChange:i,cols:"55",rows:"12",placeholder:"Write something in this article",required:!0})}),Object(l.jsx)("div",{className:"positionArticleAdmin",children:Object(l.jsx)("button",{className:"adminButton",onClick:o,children:"Submit"})})]}),Object(l.jsx)("h1",{children:"Edit and delete articles"}),Object(l.jsx)("div",{classname:"container",children:Object(l.jsxs)(le.a,{striped:!0,bordered:!0,hover:!0,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Title"}),Object(l.jsx)("th",{children:"Category"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Edit"}),Object(l.jsx)("th",{children:"Delete"})]})}),Object(l.jsx)("tbody",{children:e.articles.map((function(e){return Object(l.jsx)(oe,{article:e})}))})]})})]})})),me=n.p+"static/media/bannerBlog.35ae41dd.png",pe={getArticles:f.getArticles,sendAddVisit:f.addVisit},be=Object(u.b)((function(e){return{allArticles:e.articleR.allArticles,articlePort:e.articleR.articlePort,articlePortMini:e.articleR.articlePortMini,articlesList:e.articleR.articlesList}}),pe)((function(e){var t=Object(c.useState)(!0),n=Object(r.a)(t,2),a=n[0],s=n[1];function i(){return(i=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getArticles();case 2:s(!1);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var o=function(t){e.sendAddVisit(t.target.id)};return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"portadaBlog",style:{backgroundImage:"url(".concat(me,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsxs)("div",{className:"container-fluid my-5",children:[Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-12",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7  bg-greenLight p-4 d-flex justify-content-center ",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"categoryBlog",children:[e.articlePort[0].createdAt.slice(0,10)," | ",e.articlePort[0].articleCategory]}),Object(l.jsxs)(v.b,{to:"/article/".concat(e.articlePort[0]._id),className:"text-decoration-none",onClick:o,children:[Object(l.jsx)("p",{id:e.articlePort[0]._id,className:"h1 tituloBlog",children:e.articlePort[0].title}),Object(l.jsx)("p",{className:"descripcionBlog",children:e.articlePort[0].descripcion.slice(0,170)+"..."})]})]})}),Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-5 d-flex align-items-center",children:Object(l.jsx)(v.b,{to:"/article/".concat(e.articlePort[0]._id),className:"text-decoration-none",onClick:o,children:Object(l.jsx)("img",{id:e.articlePort[0]._id,src:e.articlePort[0].picture,className:"img-fluid scale-img"})})})]})}),Object(l.jsx)("div",{className:"col-12 mt-3",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-5 d-flex align-items-center",children:Object(l.jsx)(v.b,{to:"/article/".concat(e.articlePortMini[0]._id),className:"text-decoration-none",onClick:o,children:Object(l.jsx)("img",{id:e.articlePortMini[0]._id,src:e.articlePortMini[0].picture,className:"img-fluid scale-img"})})}),Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7 bg-greenLight p-4 d-flex justify-content-center ",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"categoryBlog",children:[e.articlePortMini[0].createdAt.slice(0,10)," | ",e.articlePortMini[0].articleCategory]}),Object(l.jsxs)(v.b,{to:"/article/".concat(e.articlePortMini[0]._id),className:"text-decoration-none",onClick:o,children:[Object(l.jsx)("p",{id:e.articlePortMini[0]._id,className:"h1 tituloBlog",children:e.articlePortMini[0].title}),Object(l.jsx)("p",{className:"descripcionBlog",children:e.articlePortMini[0].descripcion.slice(0,170)+"..."})]})]})})]})})]})}),Object(l.jsx)("div",{className:"bannerLatest my-3",children:Object(l.jsx)("h2",{children:"Last Articles Created"})}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"articlesList",children:e.articlesList.map((function(e){return Object(l.jsx)(y,{lastArticle:e},e._id)}))})})})]}),Object(l.jsx)(U,{})]})})})),he={likeReason:function(e){try{var t=e.petId,n=e.id,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/petitions/like/"),{petId:t,id:n},{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"LIKE",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},dislikeReason:function(e){console.log(e);try{var t=e.petId,n=e.id,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/petitions/dislike/").concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"DISLIKE",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},deleteReason:function(e){console.log(e);try{var t=e.petId,n=e.id,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/petitions/delete/").concat(n,"/").concat(t),{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"DELETE_REASON",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},modifyReason:function(e){try{var t=e.id,n=e.petId,c=e.modification,a=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(s,i){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/petitions/modifyReason"),{id:t,petId:n,modification:c},{headers:{Authorization:"Bearer ".concat(a)}});case 2:r=e.sent,s({type:"MODIFY_REASON",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(s){g.a.fire(s)}},recoverPassword:function(e){try{return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("".concat(O,"/password/"),{email:e});case 2:!1===(a=t.sent).data.success&&g.a.fire(a.data.message),n({type:"PASSWORD",payload:a.data.response});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}catch(t){g.a.fire(t)}}},Oe=n(13),xe={likeReason:he.likeReason,dislikeReason:he.dislikeReason,deleteReason:he.deleteReason,modifyReason:he.modifyReason},ge=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),xe)((function(e){var t,n=e.reasons,a=e.loggedUser,s=e.likeReason,i=e.dislikeReason,o=e.deleteReason,d=e.modifyReason,u=e.petId,j=n.name,m=n.profilePicture,p=n.reason,b=n._id,h=n.likes,O=n.userId,x=Object(c.useState)({}),g=Object(r.a)(x,2),f=g[0],N=g[1],y=Object(c.useState)(!1),k=Object(r.a)(y,2),C=k[0],P=k[1];return!!p&&Object(l.jsx)("div",{className:"reasonInd",children:p.length>0&&Object(l.jsxs)("div",{className:"boxStyleCommentContainer",children:[Object(l.jsxs)("div",{className:"d-flex p-3 align-items-center columnPetition",style:{width:"90%"},children:[Object(l.jsx)("h4",{className:"signPetitionName",children:Object(l.jsxs)(v.b,{className:"linkToProfilePetCom",to:"/profile/".concat(n.userId),style:{color:"white",textDecoration:"none"},children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(m,")"),width:"60px",height:"60px",backgroundPosition:"center",backgroundSize:"cover"},className:"userPicPetitions"}),j,":"]})}),C?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"editBlogReasonInput",children:Object(l.jsx)("input",{id:b,name:"modification",type:"text",onChange:function(e){var t=e.target.id,n=e.target.name,c=e.target.value;N(Object(_.a)(Object(_.a)({},f),{},Object(B.a)({userId:O,id:t,petId:u,token:a.token},n,c)))},placeholder:p,className:"inputEditReason"})}),Object(l.jsx)(Oe.l,{onClick:function(e){e.preventDefault(),d(f),P(!C)},style:{fontSize:"36px",margin:"1rem",textAlign:"center",border:"2px solid grey",borderRadius:"50%",padding:"0.3rem"}})]}):Object(l.jsx)("span",{className:"text-break reasonComment",children:p})]}),Object(l.jsxs)("div",{className:"boxIconPetitionContainer",children:[a?h.find((function(e){return e.id===a.userId}))?Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(Oe.c,{className:"likesReasonPetition",onClick:function(e){i({id:b,petId:u,token:a.token})},id:b}),h.length]}):Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(Oe.k,{className:"likesReasonPetition",onClick:function(e){var t=e.target.id;s({petId:u,id:t,token:a.token})},id:b}),h.length]}):Object(l.jsxs)("div",{className:"SingleIconContainer d-flex",children:[Object(l.jsx)(Oe.c,{id:b}),h.length]}),a&&a.userId===O&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"SingleIconContainer",children:Object(l.jsx)(Oe.a,{id:b,onClick:function(e){o({id:b,petId:u,token:a.token})},className:"iconTrash"})}),Object(l.jsx)("div",(t={className:"SingleIconContainer",onClick:function(e){e.preventDefault(),P(!C)}},Object(B.a)(t,"className","iconEdit"),Object(B.a)(t,"children",Object(l.jsx)(Oe.b,{})),t))]})]})]})})})),fe=function(e){var t=e.reasons,n=e.petId;return Object(l.jsx)("div",{children:t.map((function(e){return Object(l.jsx)(ge,{reasons:e,petId:n})})).reverse()})},ve=n.p+"static/media/bannerPetitionInd.d53d0c0d.png",Ne=n(37),ye=(n(92),{signPetition:k.signPetition}),ke=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser,onePetition:e.petitionsR.allPetitions}}),ye)((function(e){var t=e.match.params.id,n=Object(c.useState)({}),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(e.loggedUser&&{reason:"",petId:t,token:e.loggedUser.token}),d=Object(r.a)(o,2),u=d[0],j=d[1],b=e.onePetition;Object(c.useEffect)((function(){i(b.filter((function(e){return e._id===t}))),0===e.onePetition.length&&e.history.push("/petitions")}),[t,b]);var h=function(){var t=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loggedUser?(e.signPetition(u),j({}),g.a.fire({title:"Petition signed!",text:"Thank you!",icon:"success",background:"#82b74b",iconColor:"white",backdrop:"rgba(64, 93, 39, 0.3)"})):g.a.fire({title:"Oops!",text:"You must be logged in to sign this petition!",icon:"warning",confirmButtonColor:"#c1946a",confirmButtonText:"Log me in!",background:"#82b74b",iconColor:"white",backdrop:"rgba(64, 93, 39, 0.3)"}).then((function(t){t.isConfirmed&&e.history.push("/login")}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[s.length&&Object(l.jsxs)("div",{className:"singlePetCtnCtn",children:[Object(l.jsx)("div",{className:"petitionIndBanner",style:{backgroundImage:"url(".concat(ve,")"),backgroundSize:"cover",backgroundPosition:"center"}}),Object(l.jsx)("h1",{className:"indPetitionTitle",children:Object(l.jsx)("span",{children:s[0].title})}),Object(l.jsxs)("div",{className:"singlePetitionContainer",children:[Object(l.jsxs)("div",{className:"petitionHeader",children:[Object(l.jsx)("div",{className:"petitionHeaderImg",style:{backgroundImage:"url(".concat(s[0].author[0].profilePicture,")")}}),Object(l.jsxs)("h6",{className:"petitionHeaderAuthor",children:["Petition Created By: ",s[0].author[0].name]})]}),Object(l.jsx)("div",{className:"singlePetitionImg",style:{backgroundImage:"url(".concat(s[0].picture,")")}}),Object(l.jsxs)("div",{className:"descCtn",style:{display:"flex",flexDirection:"column"},children:[Object(l.jsx)("div",{className:"petInfoCtn",children:Object(l.jsxs)("span",{children:["Who it is for: ",Object(l.jsx)("b",{children:s[0].destination})]})}),Object(l.jsx)("div",{className:"description",children:s[0].desc})]}),Object(l.jsx)("div",{className:"signaturesPetitionInd",children:Object(l.jsxs)("h6",{children:[s[0].signatures.length>=s[0].goal?Object(l.jsxs)("div",{className:"goalReachedContainer",children:[Object(l.jsx)("h2",{children:"This petition has reached its goal"}),Object(l.jsxs)("span",{children:[s[0].signatures.length," persons have helped this petition reach its goal"]})]}):1===s[0].signatures.length?s[0].signatures.length+" person has ":s[0].signatures.length+" persons have ",Object(l.jsx)("span",{children:s[0].signatures.length>=s[0].goal?"":"signed this petition"})]})}),Object(l.jsxs)("div",{className:"reasonsPetitionContainer reasonsPetition",children:[Object(l.jsx)("div",{className:"signaturesTitle",children:Object(l.jsx)("h4",{className:"py-1",children:"Signatures"})}),s[0].signatures.length<s[0].goal&&Object(l.jsxs)("div",{className:"inputPetitions",children:[Object(l.jsx)("input",{type:"text",onChange:function(n){n.target.value;e.loggedUser?j({petId:t,token:e.loggedUser.token}):g.a.fire({title:"Oops!",text:"You must be logged in to sign this petition!",icon:"warning",confirmButtonColor:"#c1946a",confirmButtonText:"Log me in!",background:"#82b74b",iconColor:"white",backdrop:"rgba(64, 93, 39, 0.3)"}).then((function(t){t.isConfirmed&&e.history.push("/login")}))},placeholder:"I'm signing because ... (optional) ",className:"reasonInput",value:u?u.reason:""}),Object(l.jsx)("div",{className:"sendReasonButtonCtn",children:Object(l.jsx)("p",{onClick:h,className:"sendPetition",children:Object(l.jsx)(Oe.l,{})})})]}),Object(l.jsx)("div",{className:"comentaryReasonBox",children:s[0].reasons.length?Object(l.jsx)(fe,{reasons:s[0].reasons,petId:s[0]._id}):Object(l.jsx)("span",{children:"No one left any reasons for signing yet!"})})]})]}),Object(l.jsx)("div",{className:"goToPetitions",children:Object(l.jsxs)(v.b,{to:"/petitions",className:"returnPet",children:[Object(l.jsx)(Ne.a,{}),Object(l.jsx)("p",{children:"Return to Petitions"})]})})]}),Object(l.jsx)(U,{})]})})),Ce={addPost:function(e,t){try{var n=e.text,c=e.token,a=new FormData;return a.append("text",n),t&&a.append("postPicture",t.name),a.append("file",t),function(){var e=Object(p.a)(m.a.mark((function e(t,n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts"),a,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/formdata"}});case 2:s=e.sent,t({type:"ADD_POST",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(s){g.a.fire(s)}},getPosts:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t,n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(O,"/posts"));case 3:c=e.sent,t({type:"GET_POSTS",payload:c.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},submitPostModification:function(e){try{var t=e.postId,n=e.editPost,c=e.token,a=e.compressedFile,s=new FormData;return s.append("editPost",n),s.append("postId",t),a&&s.append("postPicture",a.result.name),a&&s.append("file",a.result),function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/posts"),s,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/formdata"}});case 2:a=e.sent,t({type:"UPDATE_POST",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(i){g.a.fire(i)}},newComment:function(e){try{var t=e.postId,n=e.comment,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts/comments"),{postId:t,comment:n},{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"UPDATE_POST",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},sendLikePost:function(e){try{var t=e.postId,n=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(c,a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts/like"),{postId:t},{headers:{Authorization:"Bearer ".concat(n)}});case 2:s=e.sent,c({type:"UPDATE_POST",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(c){g.a.fire(c)}},sendDislikePost:function(e){try{var t=e.postId,n=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(c,a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/dislike/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 2:s=e.sent,c({type:"UPDATE_POST",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(c){g.a.fire(c)}},removePost:function(e){try{var t=e.postId,n=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(c,a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 2:s=e.sent,c({type:"GET_POSTS",payload:s.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(c){g.a.fire(c)}},likeCommentPost:function(e){try{var t=e.idComment,n=e.postId,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(O,"/posts/likeComments"),{idComment:t,postId:n},{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"UPDATE_POST",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},dislikeCommentPost:function(e){try{var t=e.idComment,n=e.postId,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/dislikeComments/").concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"UPDATE_POST",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},deleteCommentPost:function(e){try{var t=e.postId,n=e.idComment,c=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(a,s){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("".concat(O,"/posts/comments/").concat(t,"/").concat(n),{headers:{Authorization:"Bearer ".concat(c)}});case 2:i=e.sent,a({type:"UPDATE_POST",payload:i.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(a){g.a.fire(a)}},editCommentPost:function(e){try{var t=e.idComment,n=e.postId,c=e.newCommentEdit,a=e.token;return function(){var e=Object(p.a)(m.a.mark((function e(s,i){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("".concat(O,"/posts/comments"),{idComment:t,postId:n,newCommentEdit:c},{headers:{Authorization:"Bearer ".concat(a)}});case 2:r=e.sent,s({type:"UPDATE_POST",payload:r.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}catch(s){g.a.fire(s)}}},Pe=(n(28),{likeCommentPost:Ce.likeCommentPost,dislikeCommentPost:Ce.dislikeCommentPost,deleteCommentPost:Ce.deleteCommentPost,editCommentPost:Ce.editCommentPost}),Ie=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),Pe)((function(e){var t=e.comment,n=e.name,a=e.profilePicture,s=e.likes,i=e.loggedUser,o=e.idComment,d=e.postId,u=e.likeCommentPost,j=e.dislikeCommentPost,m=e.userId,p=e.deleteCommentPost,b=e.editCommentPost,h=Object(c.useState)(!1),O=Object(r.a)(h,2),x=O[0],f=O[1],N=Object(c.useState)({}),y=Object(r.a)(N,2),k=y[0],C=y[1],P=g.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}});return Object(l.jsxs)("div",{className:"singleCommentContainer",children:[Object(l.jsxs)("div",{className:"singleComment",children:[Object(l.jsx)("div",{className:"commentCredentials",children:Object(l.jsxs)(v.b,{to:"/profile/".concat(m),style:{display:"flex",textDecoration:"none",color:"white"},className:"usernameCommentLink",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(a,")")},className:"commentUserPic"}),Object(l.jsxs)("p",{className:"commentUsername",children:[n,":"]})]})}),x?Object(l.jsxs)("div",{className:"editTextCommentContainer",children:[Object(l.jsx)("input",{type:"text",name:"newCommentEdit",placeholder:t,onChange:function(e){var t,n=e.target.name,c=e.target.value;C(Object(_.a)(Object(_.a)({},k),{},(t={},Object(B.a)(t,n,c),Object(B.a)(t,"postId",d),Object(B.a)(t,"idComment",o),Object(B.a)(t,"token",i.token),t)))},className:"editCommentInput",autoComplete:"off"}),Object(l.jsx)("div",{className:"sendComment",style:{display:"flex",alignItems:"center",fontSize:"21px",padding:"0 0.3rem"},children:Object(l.jsx)(Oe.l,{onClick:function(e){f(!x),b(k),P.fire({icon:"success",title:"Comment modified!"})},style:{cursor:"pointer"}})})]}):Object(l.jsx)("div",{className:"commentComment",children:Object(l.jsx)("p",{children:t})})]}),Object(l.jsxs)("div",{className:"postLikeInteraction",children:[i?s.find((function(e){return e.id===i.userId}))?Object(l.jsxs)("div",{className:"commentLike",children:[Object(l.jsx)(Oe.c,{onClick:function(e){e.preventDefault(),j({postId:d,idComment:o,token:i.token})},style:{color:"darkred",cursor:"pointer"}}),s.length]}):Object(l.jsxs)("div",{className:"commentLike",children:[Object(l.jsx)(Oe.k,{onClick:function(e){e.preventDefault(),u({postId:d,idComment:o,token:i.token})},style:{color:"darkred",cursor:"pointer"}}),s.length]}):Object(l.jsxs)("div",{className:"commentLike",children:[Object(l.jsx)(Oe.k,{style:{color:"darkred",cursor:"pointer"}}),s.length]}),Object(l.jsx)("div",{className:"commentMod",children:i&&i.userId===m&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Oe.a,{className:"aiIcon delete",onClick:function(e){e.preventDefault(),p({postId:d,idComment:o,token:i.token}),P.fire({icon:"success",title:"Comment deleted!"})}}),Object(l.jsx)(Oe.m,{className:"aiIcon edit",onClick:function(e){e.preventDefault(),f(!x)}})]})})]})]})})),we=n(112),Ae={newComment:Ce.newComment,sendLikePost:Ce.sendLikePost,sendDislikePost:Ce.sendDislikePost,submitPostModification:Ce.submitPostModification,removePost:Ce.removePost},Te=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),Ae)((function(e){var t=e.post,n=e.loggedUser,a=e.newComment,s=e.sendLikePost,i=e.sendDislikePost,o=e.submitPostModification,d=e.removePost,u=Object(c.useState)({}),j=Object(r.a)(u,2),m=j[0],p=j[1],b=Object(c.useState)({}),h=Object(r.a)(b,2),O=h[0],x=h[1],f=Object(c.useState)(!1),N=Object(r.a)(f,2),y=N[0],k=N[1],P=Object(c.useState)(""),I=Object(r.a)(P,2),w=I[0],A=I[1],T=Object(c.useState)(),S=Object(r.a)(T,2),E=S[0],U=S[1],R=Object(c.useState)(!1),D=Object(r.a)(R,2),L=D[0],F=D[1],M=Object(te.g)(),z=g.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}}),G=t.createdAt;return Object(l.jsxs)("div",{className:"postContainer",children:[Object(l.jsxs)("div",{className:"postHeader",children:[Object(l.jsxs)("div",{className:"userCredentialsOnPost",children:[Object(l.jsx)(v.b,{to:"profile/".concat(t.userId),style:{color:"white",textDecoration:"none"},children:Object(l.jsx)("div",{style:{width:"50px",height:"50px",backgroundImage:"url(".concat(t.userPic,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"profilePictureOnPost"})}),Object(l.jsxs)("div",{className:"nameAndDate",children:[Object(l.jsx)("div",{className:"postUsernameContainer",children:Object(l.jsx)(v.b,{to:"profile/".concat(t.userId),style:{color:"white",textDecoration:"none"},children:Object(l.jsx)("h5",{className:"postUsername",children:t.username})})}),Object(l.jsx)("div",{className:"postDate",children:Object(l.jsx)("h4",{children:G&&G.slice(0,10)})})]})]}),Object(l.jsx)("div",{className:"likesHeaderContainer",children:n?t.likes.find((function(e){return e._id===n.userId}))?Object(l.jsx)("div",{className:"likeContainer",children:Object(l.jsxs)("div",{className:"dispatchLike",onClick:function(e){e.preventDefault(),i({postId:t._id,token:n.token})},id:t._id,children:[Object(l.jsx)(Oe.c,{style:{color:"darkred",cursor:"pointer"}}),t.likes.length]})}):Object(l.jsx)("div",{className:"likeContainer",children:Object(l.jsxs)("div",{className:"dispatchLike",onClick:function(e){e.preventDefault(),s({postId:t._id,token:n.token})},id:t._id,children:[Object(l.jsx)(Oe.k,{className:"aiIcon like",style:{color:"darkred",cursor:"pointer"}}),t.likes.length]})}):Object(l.jsxs)("div",{className:"likeContainer",children:[Object(l.jsx)(Oe.k,{onClick:function(){return g.a.fire({title:"Oops!",text:"You must be logged in!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&M.push("/login")}))},style:{color:"darkred",cursor:"pointer"},className:"aiIcon like"}),t.likes.length]})})]}),t.picture&&Object(l.jsx)("div",{className:"d-flex justify-content-center postPictureContainer",children:Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(t.picture,")"),width:"100%",height:"30rem",backgroundSize:"cover",backgroundPosition:"center"},className:"postPicture"})}),Object(l.jsx)("div",{className:"postTextContainer",children:Object(l.jsx)("h5",{className:"postText",children:t.text})}),Object(l.jsxs)("div",{className:"userInteractionsOnPost",children:[y&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{type:"text",name:"editPost",onChange:function(e){var c=e.target.name,a=e.target.value;x(Object(_.a)(Object(_.a)({},O),{},Object(B.a)({postId:t._id,token:n.token,file:E},c,a)))},className:"postInputEdit",placeholder:t.text.slice(0,30)+"...",autoComplete:"off"}),Object(l.jsx)("input",{type:"file",id:"file-upload-post",name:"fileEdit",onChange:function(e){if(e.target.files&&e.target.files.length>0){var c=e.target.files[0];if(c.type.includes("image")){var a=new W.a(c,{quality:.2,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){A(t.result)}}});U(a),x(Object(_.a)(Object(_.a)({},O),{},{compressedFile:a,token:n.token,postId:t._id}))}else s="error",i="Something went wrong!",r="Files must be of an image type",g.a.fire({icon:s,title:i,text:r,confirmButtonText:"Ok"})}var s,i,r}}),Object(l.jsx)("label",{htmlFor:"file-upload-post",className:"custom-file-upload-post",children:Object(l.jsx)(C.a,{className:"aiIcon upload"})}),Object(l.jsxs)("div",{className:"colorButtonsEditPost",children:[Object(l.jsx)(we.a,{onClick:function(e){e.preventDefault(),d({token:n.token,postId:t._id}),z.fire({icon:"success",title:"Post deleted!"}),k(!y)},color:"danger",style:{margin:"0 0.3rem"},children:"DELETE"}),Object(l.jsx)(we.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),o(O,E),x({}),k(!y),z.fire({icon:"success",title:"Post modified!"})},color:"success",style:{margin:"0 0.3rem"},children:"CONFIRM"})]})]}),n&&n.userId===t.userId&&Object(l.jsx)(we.a,{onClick:function(){return k(!y)},children:" EDIT"})]}),E&&y&&Object(l.jsx)("div",{className:"imagePreviewContainer",children:Object(l.jsx)("div",{style:{width:"50rem",height:"30rem",backgroundImage:"url(".concat(w,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"editPictureOnPost"})}),Object(l.jsxs)("div",{className:"commentsContainer",children:[Object(l.jsx)("div",{className:"commentSectionTitle",children:Object(l.jsx)("p",{children:"Comments"})}),L&&Object(l.jsx)("div",{className:"commentsMapContainer",children:Object(l.jsx)("div",{className:"commentsMap",children:t.comments.map((function(e){var n=e.comment,c=e.name,a=e.profilePicture,s=e.likes,i=e._id,r=e.userId;return Object(l.jsx)(Ie,{comment:n,name:c,profilePicture:a,likes:s,idComment:i,postId:t._id,userId:r},i)}))})}),Object(l.jsx)("div",{className:"viewMoreContainer",children:Object(l.jsx)("span",{children:t.comments.length?Object(l.jsx)("span",{onClick:function(){return F(!L)},style:{cursor:"pointer"},children:"View".concat(L?" less":" more")}):Object(l.jsxs)("div",{className:"noComments",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat("/assets/commentsPlaceholder.png",")")},className:"noCommentsPlaceholder"}),Object(l.jsx)("span",{className:"noCommentsYet",style:{textDecoration:"none"},children:"No comments yet!"})]})})}),Object(l.jsxs)("div",{className:"inputContainer",children:[Object(l.jsx)("input",{name:"comment",type:"text",placeholder:"Enter comment...",onChange:function(e){var c=e.target.name,a=e.target.value;n?p(Object(_.a)(Object(_.a)({},m),{},Object(B.a)({postId:t._id,token:n.token},c,a))):(g.a.fire({title:"Oops!",text:"You must be logged in to comment on this post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&M.push("/login")})),e.target.value="")},autoComplete:"off",disabled:!n,className:"commentInput",value:m.comment&&""!==m.comment?m.comment:""}),Object(l.jsx)("div",{className:"sendButton",onClick:function(e){if(n){if(!m.comment||""===m.comment.trim())return void g.a.fire({title:"Oops!",text:"Comment can't be empty!",icon:"error",confirmButtonColor:"#c1866a",confirmButtonText:"Ok!",background:"#4b98b7",iconColor:"#ec8787",backdrop:"rgba(80, 80, 80, 0.3)"});e.preventDefault(),a(m),p({}),F(!0),z.fire({icon:"success",title:"Comment posted"})}else g.a.fire({title:"Oops!",text:"You must be logged in to comment on this post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&M.push("/login")}))},style:{cursor:"pointer"},children:Object(l.jsx)(Oe.l,{style:{cursor:"pointer"}})})]})]})]})})),Se=n(54),Ee={addPost:Ce.addPost,getPosts:Ce.getPosts},Ue=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser,allPosts:e.postR.allPosts}}),Ee)((function(e){var t=Object(c.useState)({}),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),d=o[0],u=o[1],j=Object(c.useState)(),m=Object(r.a)(j,2),p=m[0],b=m[1],h=Object(c.useState)([]),O=Object(r.a)(h,2),x=O[0],f=O[1],N=e.allPosts,y=function(e,t,n){g.a.fire({icon:e,title:t,text:n,confirmButtonText:"Ok"})};Object(c.useEffect)((function(){e.getPosts()}),[]),Object(c.useEffect)((function(){f(N)}),[N]);var k=Object(te.g)(),P=g.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",g.a.stopTimer),e.addEventListener("mouseleave",g.a.resumeTimer)}}),I=function(){u(""),b("")};return Object(l.jsxs)("div",{className:"inputPostContainerContainer",children:[Object(l.jsxs)("div",{className:"inputPostContainer",children:[Object(l.jsxs)("div",{className:"postsTextArea",children:[Object(l.jsx)("div",{className:"profilePictureOnPostContainer",children:Object(l.jsx)(v.b,{to:"/profile/".concat(e.loggedUser?e.loggedUser.userId:""),children:Object(l.jsx)("div",{style:{width:"50px",height:"50px",backgroundImage:"url(".concat(e.loggedUser?e.loggedUser.profilePicture:"/assets/profilePictures/panda-avatar.jpg",")"),backgroundSize:"cover",backgroundPosition:"center"},className:"profilePictureOnPost"})})}),Object(l.jsx)("textarea",{name:"text",placeholder:"What's on your mind ".concat(e.loggedUser?e.loggedUser.name:""," ?"),onChange:function(t){var n,c=t.target.name,i=t.target.value;e.loggedUser?s(Object(_.a)(Object(_.a)({},a),{},(n={},Object(B.a)(n,c,i),Object(B.a)(n,"token",e.loggedUser.token),n))):(g.a.fire({title:"Oops!",text:"You must be logged in to post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&k.push("/login")})),t.target.value="")},id:"postText",className:"w-100 textareaPost"})]}),Object(l.jsxs)("div",{className:"filesPost",children:[Object(l.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:[Object(l.jsx)(C.a,{className:"aiIcon upload"})," Upload Picture"]}),Object(l.jsx)("input",{id:"file-upload",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){u(n.result)},b(t)}else y("error","Oops!","You must upload a valid image file")}}}),""===d?null:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(d,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"postPicturePreview"}),Object(l.jsx)(Se.a,{onClick:function(){return I()},style:{color:"red",fontSize:"21px",cursor:"pointer"}})]}),Object(l.jsx)(we.a,{onClick:function(t){if(t.preventDefault(),console.log("aca ando"),!e.loggedUser)return g.a.fire({title:"Oops!",text:"You must be logged in to post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&k.push("/login")})),t.target.value="",u(""),void b("");a.text?a.text.split(" ").length<3&&a.text.length<10?y("error","Oops!","Text is too short! \ud83d\ude05"):a.text.split(" ").length>500&&a.text.length>700?y("error","Oops!","Text is too long! \ud83d\ude05"):(document.getElementById("postText").value="",P.fire({icon:"success",title:"Post uploaded"}),t.preventDefault(),e.addPost(a,p),I()):y("error","Oops!","You must include some text in your post first! \ud83d\ude05")},color:"success",style:{padding:" 0.2rem 3rem",fontSize:"27px",fontWeight:"500"},children:"Publish"})]})]}),x&&x.map((function(e){return Object(l.jsx)(Te,{post:e},e._id)})).reverse()]})})),Re=n.p+"static/media/communityImg.4891d1c7.png",De={getPetitions:k.getPetitions,getArticles:f.getArticles},Be=Object(u.b)((function(e){return{allPetitions:e.petitionsR.allPetitions,loggedUser:e.authR.loggedUser,articles:e.articleR.allArticles}}),De)((function(e){var t=Object(c.useState)(!0),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],j=e.allPetitions;function b(){return(b=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getArticles();case 2:return t.next=4,e.getPetitions();case 4:s(!1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){u(j.sort((function(e,t){return t.visits-e.visits})))}),[j]),Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"communityContainer",children:[Object(l.jsx)("div",{className:"communityBanner",style:{backgroundImage:"url(".concat(Re,")"),backgroundPosition:"center",backgroundSize:"cover"}}),Object(l.jsx)("div",{className:"communityContainerBelow",children:Object(l.jsxs)("div",{className:"comunityEntry align-items-start",style:{marginBottom:"1rem"},children:[Object(l.jsxs)("div",{className:"col-2 card popularPetitions",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)("div",{className:"sideCardsTitle",children:Object(l.jsx)("h3",{children:"Popular Petitions"})}),Object(l.jsx)("div",{className:"sideCardsContainer",children:d.slice(0,3).map((function(e){var t=e.title,n=e.picture,c=e._id;return Object(l.jsx)(v.b,{className:"popularPetitionCard",to:"/petitions/".concat(c),style:{textDecoration:"none"},children:Object(l.jsx)("div",{className:"card commCards",style:{width:"100%"},children:Object(l.jsx)("div",{className:"communityImg card-img-top",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover",backgroundPosition:"center"},children:Object(l.jsx)("h5",{className:"cardTitle",children:t.length>30?t.split(" ").slice(0,5).join().replace(/,/g," ")+"...":t})})})},c)}))})]}),Object(l.jsx)("div",{className:"col-8 d-flex justify-content-center allPostsContainerContainer",children:Object(l.jsx)("div",{className:"w-100 allPostsContainer",children:Object(l.jsx)(Ue,{})})}),Object(l.jsxs)("div",{className:"col-2 card popularPetitions",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:[Object(l.jsx)("div",{className:"sideCardsTitle",children:Object(l.jsx)("h3",{children:"Latest Blog Entries"})}),Object(l.jsx)("div",{className:"sideCardsContainer",children:e.articles.slice(e.articles.length-3,e.articles.length).map((function(e){var t=e.title,n=e.picture,c=e._id;return Object(l.jsx)(v.b,{className:"popularPetitionCard",to:"/article/".concat(c),style:{textDecoration:"none"},children:Object(l.jsx)("div",{className:"card commCards",style:{width:"100%"},children:Object(l.jsx)("div",{className:"communityImg card-img-top",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover",backgroundPosition:"center"},children:Object(l.jsx)("h5",{className:"card-title cardTitle",children:t.length>30?t.split(" ").slice(0,5).join().replace(/,/g," ")+"...":t})})})},c)}))})]})]})})]}),Object(l.jsx)(U,{})]})})})),_e=n.p+"static/media/logoNuevo.a3412f74.png",Le=(n(93),n(27)),Fe=n(55),Me=(n(110),{logoutUser:M.logoutUser}),ze=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),Me)((function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],i=function(){s(!a)};if(e.props.loggedUser)var o=Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(v.c,{to:"/profile/".concat(e.props.loggedUser.userId),className:"userLinkBurger",children:[Object(l.jsx)("img",{src:e.props.loggedUser.profilePicture,alt:"profile",className:"userImg"}),Object(l.jsxs)("h6",{children:["Hi! ",e.props.loggedUser.name]})]})});if(null===e.props.loggedUser)var d=Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v.c,{to:"/login",onClick:i,children:Object(l.jsxs)("div",{id:"login",className:"menu-item",href:"/",style:{marginLeft:"1rem"},children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Le.a,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Login"})]})})});return Object(l.jsxs)(Fe.slide,{isOpen:a,right:!0,children:[Object(l.jsxs)("div",{className:"sideBarTitle",children:[Object(l.jsx)("div",{className:"brgMenuTitle",style:{width:"50%"},children:Object(l.jsx)("h2",{style:{fontSize:"42px"},children:"Menu"})}),Object(l.jsx)("div",{className:"brgMenuCross",children:Object(l.jsx)("div",{onClick:i,children:Object(l.jsx)(Oe.i,{})})})]}),o,d,Object(l.jsx)(v.c,{to:"/",onClick:i,children:Object(l.jsxs)("div",{id:"home",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Oe.d,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Home"})]})}),Object(l.jsx)(v.c,{to:"/blog",onClick:i,children:Object(l.jsxs)("div",{id:"blog",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Oe.g,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Blog"})]})}),Object(l.jsx)(v.c,{to:"/community",onClick:i,children:Object(l.jsxs)("div",{id:"community",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Oe.e,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Community"})]})}),Object(l.jsx)(v.c,{to:"/petitions",onClick:i,children:Object(l.jsxs)("div",{id:"petitions",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Oe.h,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Petitions"})]})}),Object(l.jsx)(v.c,{to:"/createPetition",onClick:i,children:Object(l.jsxs)("div",{id:"createPetition",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Oe.f,{})}),Object(l.jsx)("div",{className:"optionMenu",children:"Create a petition"})]})}),e.props.loggedUser&&Object(l.jsx)(v.c,{to:"/",onClick:i,children:Object(l.jsxs)("div",{id:"logOut",className:"menu-item",href:"/",children:[Object(l.jsx)("div",{className:"iconMenu",children:Object(l.jsx)(Le.b,{className:"logOutIconBurger",onClick:function(){return e.logoutUser()}})}),Object(l.jsx)("div",{className:"optionMenu",onClick:function(){return e.logoutUser()},children:"LogOut"})]})})]})})),Ge={logoutUser:M.logoutUser},Ye=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),Ge)((function(e){if(window.onscroll=function(){window.scrollY>300?document.querySelector(".navBar").classList.add("affix"):document.querySelector(".navBar").classList.remove("affix")},null===e.loggedUser)var t=Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v.c,{to:"/login",children:Object(l.jsx)("p",{children:"LOGIN"})})});else if("admin"===e.loggedUser.rol)t=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v.c,{to:"/createPetition",children:Object(l.jsx)("p",{className:"createPetitionP",children:"CREATE PETITION"})}),Object(l.jsx)(v.c,{to:"/adminBlog",children:Object(l.jsx)("p",{children:"ADMIN BLOG"})}),Object(l.jsxs)(v.c,{to:"/profile/".concat(e.loggedUser.userId),className:"userHeaderLink",children:[Object(l.jsx)("img",{src:e.loggedUser.profilePicture,alt:"profile",className:"userImg"}),Object(l.jsxs)("h6",{children:["Hi! ",e.loggedUser.name]})]}),Object(l.jsx)(v.c,{to:"/",children:Object(l.jsx)(Le.b,{className:"logOut",onClick:function(){return e.logoutUser()}})})]});else t=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v.c,{to:"/createPetition",children:Object(l.jsx)("p",{children:"CREATE PETITION"})}),Object(l.jsxs)(v.c,{to:"/profile/".concat(e.loggedUser.userId),className:"userHeaderLink",children:[Object(l.jsx)("img",{src:e.loggedUser.profilePicture,alt:"profile",className:"userImg"}),Object(l.jsxs)("h6",{children:["Hi! ",e.loggedUser.name]})]}),Object(l.jsx)(v.c,{to:"/",children:Object(l.jsx)(Le.b,{className:"logOut",onClick:function(){return e.logoutUser()}})})]});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("nav",{className:"navBar",children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsxs)(v.c,{to:"/",className:"headerLogondSlogan",children:[Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(_e,")")},className:"logoDiv"}),Object(l.jsxs)("h6",{children:[Object(l.jsx)("b",{style:{color:"#75a146"},children:"R E W I L D I N G"})," | a place for the planet"]})]})}),Object(l.jsxs)("div",{className:"pages",children:[Object(l.jsx)(v.c,{exact:!0,to:"/",children:Object(l.jsx)("p",{children:"HOME"})}),Object(l.jsx)(v.c,{to:"/blog",children:Object(l.jsx)("p",{children:"BLOG"})}),Object(l.jsx)(v.c,{to:"/community",children:Object(l.jsx)("p",{children:"COMMUNITY"})}),Object(l.jsx)(v.c,{to:"/petitions",children:Object(l.jsx)("p",{children:"PETITIONS"})}),t]})]}),Object(l.jsx)(ze,{props:e})]})})),We={deleteComment:f.deleteComment,editComment:f.editComment},qe=Object(u.b)(null,We)((function(e){var t=e.comment,n=e.profilePicture,a=e.name,s=e.artId,i=e.commentId,o=e.userId,d=e.loggedUser,u=e.editComment,j=e.deleteComment,b=Object(c.useState)(!1),h=Object(r.a)(b,2),O=h[0],x=h[1],g=Object(c.useState)({}),f=Object(r.a)(g,2),v=f[0],N=f[1],y=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==v.editComment){e.next=4;break}return x(!O),e.abrupt("return",!1);case 4:return e.next=6,u(v);case 6:x(!O);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"container",style:{marginTop:"1rem"},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-2 text-center",children:[Object(l.jsx)("div",{className:"rounded-circle centerArticleImage mx-1",style:{backgroundImage:"url(".concat(n,")"),width:"5vw",height:"5vw"}}),Object(l.jsx)("p",{className:"nameArticleComment",children:a})]}),Object(l.jsxs)("div",{className:"col-9 d-flex justify-content-between",children:[Object(l.jsx)("div",{style:{width:"90%"},children:O?Object(l.jsxs)("div",{className:"editArticleCommentContainer",children:[Object(l.jsx)("input",{name:"editComment",type:"text",className:"editArticleComment",defaultValue:t,onChange:function(e){var t=e.target.name,n=e.target.value;N(Object(_.a)(Object(_.a)({},v),{},Object(B.a)({commentId:i,artId:s,token:d.token},t,n)))}}),Object(l.jsx)(Oe.l,{onClick:y,style:{cursor:"pointer",height:"5vh",width:"2vw",marginTop:"4vh"}})]}):Object(l.jsx)("div",{className:"articleCommentContainer p-1 px-2",children:Object(l.jsx)("p",{className:"textArticleComment",children:t})})}),Object(l.jsx)("div",{children:d&&d.userId===o&&!O&&Object(l.jsxs)("div",{className:"commentArticleIcons",children:[Object(l.jsx)(Oe.a,{className:"aiIcon delete",onClick:function(e){e.preventDefault(),j({artId:s,token:d.token,commentId:i})}}),Object(l.jsx)(Oe.m,{className:"aiIcon edit",onClick:function(){return x(!O)}})]})})]})]})})})),Ve={commentArticle:f.commentArticle},He=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),Ve)((function(e){var t=Object(c.useState)({}),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],j=e.articlecomment,m=Object(te.g)();Object(c.useEffect)((function(){u(j)}),[j]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"commentsMapArticleContainer p-3",children:[Object(l.jsx)("div",{className:"commentsMap",children:d.map((function(t){var n=t.comment,c=t.profilePicture,a=t.name,s=t._id,i=t.userId;return Object(l.jsx)(qe,{comment:n,profilePicture:c,name:a,artId:e.article._id,commentId:s,userId:i,loggedUser:e.loggedUser})}))}),Object(l.jsxs)("div",{className:"inputContainer",children:[Object(l.jsx)("input",{type:"text",autoComplete:"off",name:"comment",placeholder:"Enter comment...",value:a.comment?a.comment:"",onChange:function(t){var n=t.target.name,c=t.target.value;s(Object(_.a)(Object(_.a)({},a),{},Object(B.a)({artId:e.article._id,token:e.loggedUser.token},n,c)))},disabled:!e.loggedUser,style:{border:"1px solid black"}}),Object(l.jsx)("div",{className:"sendButton",onClick:e.loggedUser?function(t){e.loggedUser?a.comment?(s({}),t.preventDefault(),e.commentArticle(a)):g.a.fire({title:"Oops!",text:"Comment must not be empty!",icon:"warning",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}):g.a.fire({title:"Oops!",text:"You must be logged in to comment on this post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&m.push("/login")}))}:function(){g.a.fire({title:"Oops!",text:"You must be logged in to comment on this post!",icon:"warning",confirmButtonColor:"#c1866a",confirmButtonText:"Log me in!",background:"#4b98b7",iconColor:"white",backdrop:"rgba(80, 80, 80, 0.3)"}).then((function(e){e.isConfirmed&&m.push("/login")}))},style:{cursor:"pointer"},children:Object(l.jsx)(Oe.l,{})})]})]})})})),Ke=Object(u.b)((function(e){return{allArticles:e.articleR.allArticles}}))((function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=(n[0],n[1],Object(c.useState)({})),s=Object(r.a)(a,2),i=s[0],o=s[1],d=e.match.params.id,u=e.allArticles;return Object(c.useEffect)((function(){e.allArticles.length>0?o(u.filter((function(e){return e._id===d}))):e.history.push("/blog")}),[d,u]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"portadaArticle",children:Object(l.jsx)("div",{className:"portadaBanner",children:Object(l.jsx)("h3",{children:"At Rewilding there is a great job behind each campaign and we want to share it with you through this space."})})}),i.length>0&&i.map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"containerBanner",children:Object(l.jsx)("h2",{children:e.articleCategory})}),Object(l.jsx)("div",{className:"container-fluid bg-dark",children:Object(l.jsxs)("div",{className:"articleContainer",children:[Object(l.jsx)("div",{className:"titleArticle",children:Object(l.jsx)("h1",{children:e.title})}),Object(l.jsx)("div",{className:"columnArticlePic",style:{width:"100 %"},children:Object(l.jsxs)("div",{className:"containerArticlePic",style:{width:"100 %"},children:[Object(l.jsx)("p",{className:"categoryBlog text-white",children:e.createdAt.slice(0,10)}),Object(l.jsx)("div",{className:"d-flex justify-content-center",style:{height:"30rem"},children:Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(e.picture,")"),width:"100%",height:"100%",backgroundPosition:"center",backgroundSize:"cover"}})}),Object(l.jsxs)("div",{className:"authorContainerArticle",children:[Object(l.jsxs)("div",{className:"authorAlignArticle",children:[Object(l.jsx)("img",{src:e.author[0].profilePicture,className:"authorArticlePicture"}),Object(l.jsxs)("p",{className:"authorArticleName",children:[Object(l.jsx)("span",{children:"Author: "}),e.author[0].name]})]}),Object(l.jsxs)("div",{className:"containerCommentIconArticle",children:[Object(l.jsxs)("div",{className:"iconArticle",children:[Object(l.jsx)(Oe.j,{className:"viewIconArticle"}),Object(l.jsx)("p",{className:"articleVisits text-warning",children:"".concat(e.visits)})]}),Object(l.jsxs)("div",{className:"iconArticle",children:[Object(l.jsx)(ie.b,{className:"viewIconArticle"}),Object(l.jsx)("p",{className:"pt-2 px-2 text-warning",children:e.comments.length})]})]})]})]})}),Object(l.jsxs)("div",{className:"articleDescription",children:[Object(l.jsx)("p",{className:"textArticleDescription",children:e.descripcion}),Object(l.jsx)("div",{className:"commentArticleContainerMain my-4",children:Object(l.jsx)("div",{children:Object(l.jsx)(He,{article:e,articlecomment:e.comments})})})]})]})})]})})),Object(l.jsx)(U,{})]})})),Je=function(e){var t=e.post;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"postContainer",children:[Object(l.jsx)("div",{className:"postHeader",children:Object(l.jsxs)("div",{className:"userCredentialsOnPost",children:[Object(l.jsx)("div",{style:{width:"50px",height:"50px",backgroundImage:"url(".concat(t.userPic,")"),backgroundSize:"cover",backgroundPosition:"center"},className:"profilePictureOnPost"}),Object(l.jsx)("div",{className:"nameAndDate",children:Object(l.jsx)("div",{className:"postUsernameContainer",children:Object(l.jsx)("h5",{className:"postUsername",children:t.username})})})]})}),t.picture&&Object(l.jsx)("div",{className:"d-flex justify-content-center postPictureContainer",children:Object(l.jsx)("div",{style:{backgroundImage:"url(".concat(t.picture,")"),width:"100%",height:"30rem",backgroundSize:"cover",backgroundPosition:"center"},className:"postPicture"})}),Object(l.jsx)("div",{className:"postTextContainer",children:Object(l.jsx)("h5",{className:"postText",children:t.text})})]})})},Xe=function(e){var t=e.petition,n=t.author,c=t.goal,a=t.picture,s=t.title,i=(t.votes,t.signatures);return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"lastPetitionsContainer",children:[Object(l.jsx)("div",{className:"lastPetitionImgPetitionCard",style:{backgroundImage:"url(".concat(a,")")}}),Object(l.jsxs)("div",{className:"lastPetitionsInfo",children:[Object(l.jsxs)("div",{className:"userInfo",children:[Object(l.jsxs)("h6",{className:"petitionCreatedBy",children:[Object(l.jsx)("span",{children:"Petition created by: "}),n[0].name]}),Object(l.jsx)("div",{className:"petitionCreatedImg",style:{backgroundImage:"url(".concat(n[0].profilePicture,")")}})]}),Object(l.jsx)("h5",{className:"lastPetitionsTitle",children:s.toUpperCase()}),Object(l.jsx)(P.a,{striped:!0,variant:"success",animated:!0,now:i.length,max:c}),Object(l.jsxs)("h6",{className:"peopleSign",children:[Object(l.jsx)("span",{children:i.length?1===i.length?i.length+" person has already signed this petition":i.length+" persons have already signed this petition":"No one has signed this petition yet"})," a goal ",c," signs ",Object(l.jsx)(C.b,{})]})]})]})})},Qe={getUsersById:{getUsersById:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n,c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("".concat(O,"/profile/").concat(e));case 3:a=t.sent,n({type:"GET_PROFILE",payload:a.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g.a.fire(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}}.getUsersById,getPetitions:k.getPetitions,getPosts:Ce.getPosts},Ze=Object(u.b)((function(e){return{profileUser:e.profileR.profileUser,petitions:e.petitionsR.allPetitions,posts:e.postR.allPosts}}),Qe)((function(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),d=o[0],u=o[1],j=Object(c.useState)(!0),b=Object(r.a)(j,2),h=b[0],O=b[1],x=e.profileUser,g=x.lastName,f=x.name,v=x.profilePicture,N=e.posts;function y(){return(y=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPosts();case 2:return t.next=4,e.getUsersById(e.match.params.id);case 4:return t.next=6,e.getPetitions();case 6:O(!1);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}(),s(e.petitions.filter((function(t){return t.author[0].idUser===e.match.params.id}))),u(N.filter((function(t){return t.userId===e.match.params.id})))}),[e.match.params.id,N]),Object(l.jsx)(l.Fragment,{children:h?Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("div",{className:"loader"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"profilebanner mb-5",children:Object(l.jsxs)("div",{className:"container d-flex flex-column align-items-center margin-negativo",children:[Object(l.jsx)("div",{className:"profileInfoImg rounded-circle",style:{backgroundImage:"url(".concat(v,")")}}),Object(l.jsxs)("div",{className:"h1",children:[f," ",g]})]})}),Object(l.jsx)("div",{className:"container mt-5 p-5",children:Object(l.jsxs)("div",{className:"row p-5",children:[d.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Posts"})}),d.map((function(e){return Object(l.jsx)("div",{className:"col-12 text-center",children:Object(l.jsx)(Je,{post:e})})}))]}):Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"No Posts"})}),a.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"Petitions"})}),a.map((function(e){return Object(l.jsx)("div",{className:"col-12 text-center",children:Object(l.jsx)(Xe,{petition:e})})}))]}):Object(l.jsx)("div",{className:"lastArticlesCreated",children:Object(l.jsx)("h2",{children:"No Petitions"})})]})}),Object(l.jsx)(U,{})]})})})),$e=n(56),et=n(57),tt=n(60),nt=n(59),ct=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object($e.a)(this,n),t.apply(this,arguments)}return Object(et.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(a.a.Component),at=Object(te.h)(ct),st={recoverPassword:he.recoverPassword},it=Object(u.b)((function(e){return{oneUser:e.authR.oneUser}}),st)((function(e){var t=Object(c.useState)({}),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)({}),o=Object(r.a)(i,2),d=o[0],u=o[1],j=e.oneUser;Object(c.useEffect)((function(){u(j)}),[j]);return Object(l.jsx)("div",{style:{width:"100",height:"50vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:d.name?Object(l.jsxs)("p",{children:[d.name," te enviamos un mail"]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Recover password"}),Object(l.jsx)("input",{name:"email",type:"email",placeholder:"Enter your email",onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(_.a)(Object(_.a)({},a),{},Object(B.a)({},n,c)))}}),Object(l.jsx)("button",{onClick:function(t){t.preventDefault(),e.recoverPassword(a)},children:"Send"})]})})})),rt={logFromLS:M.logFromLS},ot=Object(u.b)((function(e){return{loggedUser:e.authR.loggedUser}}),rt)((function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1];if(e.loggedUser)if("admin"===e.loggedUser.rol)var i=Object(l.jsxs)(te.d,{children:[Object(l.jsx)(te.b,{exact:!0,path:"/",component:D}),Object(l.jsx)(te.b,{exact:!0,path:"/petitions",component:ee}),Object(l.jsx)(te.b,{path:"/createPetition",component:ae}),Object(l.jsx)(te.b,{exact:!0,path:"/blog",component:be}),Object(l.jsx)(te.b,{path:"/article/:id",component:Ke}),Object(l.jsx)(te.b,{exact:!0,path:"/adminBlog",component:je}),Object(l.jsx)(te.b,{path:"/petitions/:id",component:ke}),Object(l.jsx)(te.b,{path:"/community",component:Be}),Object(l.jsx)(te.b,{path:"/profile/:id",component:Ze}),Object(l.jsx)(te.a,{to:"/"})]});else i=Object(l.jsxs)(te.d,{children:[Object(l.jsx)(te.b,{exact:!0,path:"/",component:D}),Object(l.jsx)(te.b,{exact:!0,path:"/petitions",component:ee}),Object(l.jsx)(te.b,{path:"/createPetition",component:ae}),Object(l.jsx)(te.b,{exact:!0,path:"/blog",component:be}),Object(l.jsx)(te.b,{path:"/article/:id",component:Ke}),Object(l.jsx)(te.b,{path:"/petitions/:id",component:ke}),Object(l.jsx)(te.b,{path:"/community",component:Be}),Object(l.jsx)(te.b,{path:"/profile/:id",component:Ze}),Object(l.jsx)(te.a,{to:"/"})]});else if(localStorage.getItem("token"))e.logFromLS(localStorage.getItem("token")).then((function(e){"/"===e&&s(!a)}));else i=Object(l.jsxs)(te.d,{children:[Object(l.jsx)(te.b,{exact:!0,path:"/",component:D}),Object(l.jsx)(te.b,{path:"/login",component:J}),Object(l.jsx)(te.b,{exact:!0,path:"/petitions",component:ee}),Object(l.jsx)(te.b,{path:"/blog",component:be}),Object(l.jsx)(te.b,{path:"/article/:id",component:Ke}),Object(l.jsx)(te.b,{path:"/petitions/:id",component:ke}),Object(l.jsx)(te.b,{path:"/community",component:Be}),Object(l.jsx)(te.b,{path:"/profile/:id",component:Ze}),Object(l.jsx)(te.b,{path:"/password",component:it}),Object(l.jsx)(te.a,{to:"/"})]});return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v.a,{children:Object(l.jsxs)(at,{children:[Object(l.jsx)(Ye,{}),i]})})})})),lt=n(26),dt=n(58),ut={loggedUser:null,countries:[],oneUser:{}};var jt={allPetitions:[],lastPetitions:[]},mt={allArticles:[],articlePort:[],singleArticle:[],articlePortMini:[],articlesList:[],articleCategories:["Respect for animals","Biodiversity","DANGER OF EXTINCTION","Animals in the wild","Ecology"],lastArticles:[]};var pt={allPosts:[]},bt={profileUser:[]};var ht=Object(lt.c)({authR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("name",t.payload.response.name),localStorage.setItem("profilePicture",t.payload.response.profilePicture),localStorage.setItem("token",t.payload.response.token),localStorage.setItem("username",t.payload.response.username),localStorage.setItem("rol",t.payload.response.rol),localStorage.setItem("userId",t.payload.response.userId),Object(_.a)(Object(_.a)({},e),{},{loggedUser:t.payload.response});case"LOG_OUT_USER":return localStorage.clear(),Object(_.a)(Object(_.a)({},e),{},{loggedUser:null});case"GET_COUNTRIES":return Object(_.a)(Object(_.a)({},e),{},{countries:t.payload.data});case"PASSWORD":return Object(_.a)(Object(_.a)({},e),{},{oneUser:t.payload});default:return e}},petitionsR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PETITIONS":return Object(_.a)(Object(_.a)({},e),{},{allPetitions:t.payload,lastPetitions:t.payload.slice(t.payload.length-3,t.payload.length)});case"UPDATE_PETITION":case"LIKE":case"DISLIKE":case"DELETE_REASON":case"MODIFY_REASON":return Object(_.a)(Object(_.a)({},e),{},{allPetitions:e.allPetitions.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},articleR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ARTICLE":return Object(_.a)(Object(_.a)({},e),{},{allArticles:e.allArticles.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"GET_ARTICLES":return Object(_.a)(Object(_.a)({},e),{},{allArticles:t.payload,articlePort:t.payload.slice(t.payload.length-1,t.payload.length),articlePortMini:t.payload.slice(t.payload.length-2,t.payload.length-1),articlesList:t.payload.slice(0,t.payload.length-2),lastArticles:t.payload.slice(t.payload.length-8,t.payload.length)});case"UPDATE_ARTICLE":case"COMMENT_ARTICLE":case"DELETE_COMMENT":case"EDIT_COMMENT":return Object(_.a)(Object(_.a)({},e),{},{allArticles:e.allArticles.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},postR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POSTS":return Object(_.a)(Object(_.a)({},e),{},{allPosts:t.payload});case"ADD_POST":return Object(_.a)(Object(_.a)({},e),{},{allPosts:e.allPosts.concat(t.payload)});case"UPDATE_POST":return Object(_.a)(Object(_.a)({},e),{},{allPosts:e.allPosts.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},profileR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return Object(_.a)(Object(_.a)({},e),{},{profileUser:t.payload});default:return e}}}),Ot=Object(lt.d)(ht,Object(lt.a)(dt.a));i.a.render(Object(l.jsx)(u.a,{store:Ot,children:Object(l.jsx)(ot,{})}),document.getElementById("root"))},28:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.6ff526bf.chunk.js.map